<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ohmsches Gesetz - SIU-EM-Wizard</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/exercise.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
</head>
<body>
    <!-- Navigation Header -->
    <header class="exercise-header">
        <nav class="exercise-nav">
            <div class="nav-left">
                <a href="../../index.html" class="btn btn-secondary">‚Üê Zur√ºck zur √úbersicht</a>
            </div>
            <div class="nav-center">
                <h1>Ohmsches Gesetz</h1>
            </div>
        </nav>
    </header>

    <div class="exercise-layout">
        <!-- Main Content Area -->
        <main class="exercise-main">
            <!-- Theory Section (Collapsible) -->
            <section class="theory-section" id="theorySection">
                <div class="theory-header" onclick="toggleTheory()">
                    <h2>üìö Theorie: Ohmsches Gesetz</h2>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="theory-content" id="theoryContent">
                    <div class="theory-grid">
                        <div class="theory-card">
                            <h3>Das Ohmsche Gesetz</h3>
                            <p>$$U = I \times R$$</p>
                            <p>Die Spannung ist gleich dem Produkt aus Strom und Widerstand</p>
                        </div>
                        <div class="theory-card">
                            <h3>Umstellungen</h3>
                            <p>Strom: $$I = \frac{U}{R}$$</p>
                            <p>Widerstand: $$R = \frac{U}{I}$$</p>
                        </div>
                        <div class="theory-card">
                            <h3>Einheiten</h3>
                            <ul>
                                <li><strong>U:</strong> Spannung [V] (Volt)</li>
                                <li><strong>I:</strong> Strom [A] (Ampere)</li>
                                <li><strong>R:</strong> Widerstand [Œ©] (Ohm)</li>
                            </ul>
                        </div>
                        <div class="theory-card">
                            <h3>Merkregel (Dreieck)</h3>
                            <div style="text-align: center; margin: 10px;">
                                <div style="display: inline-block; width: 80px; height: 80px; border: 2px solid #E31E24; position: relative; margin: 20px;">
                                    <div style="position: absolute; top: 10px; left: 50%; transform: translateX(-50%); font-weight: bold;">U</div>
                                    <div style="position: absolute; bottom: 10px; left: 15px; font-weight: bold;">I</div>
                                    <div style="position: absolute; bottom: 10px; right: 15px; font-weight: bold;">R</div>
                                    <div style="position: absolute; top: 50%; left: 0; right: 0; height: 1px; background: #E31E24;"></div>
                                </div>
                            </div>
                            <p><small>Abdecken der gesuchten Gr√∂√üe zeigt die Formel</small></p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Exercise Content Area -->
            <div class="exercise-content">
                <!-- Exercise content will be dynamically inserted here -->
                <div class="exercise-question">
                    <h3>Aufgabe wird geladen...</h3>
                </div>
            </div>
        </main>

        <!-- Right Sidebar will be dynamically created -->
    </div>

    <!-- Exercise System Script -->
    <script src="../../js/exercise-system.js"></script>
    
    <script>
        // Define exercises for Ohmsches Gesetz
        const ohmschesGesetzExercises = [
            // EINFACHE AUFGABEN - Direkte Anwendung
            {
                difficulty: 'easy',
                question: 'Gegeben: I = 2 A, R = 10 Œ©. Berechnen Sie die Spannung U.',
                answer: '20',
                unit: 'V',
                tolerance: 0.1,
                solution: 'Nach dem Ohmschen Gesetz: U = I √ó R = 2 A √ó 10 Œ© = 20 V',
                explanation: 'Direkte Anwendung des Ohmschen Gesetzes: U = I √ó R'
            },
            {
                difficulty: 'easy',
                question: 'Gegeben: U = 12 V, R = 4 Œ©. Berechnen Sie den Strom I.',
                answer: '3',
                unit: 'A',
                tolerance: 0.1,
                solution: 'Nach dem Ohmschen Gesetz: I = U √∑ R = 12 V √∑ 4 Œ© = 3 A',
                explanation: 'Ohmsches Gesetz nach I umgestellt: I = U/R'
            },
            {
                difficulty: 'easy',
                question: 'Gegeben: U = 24 V, I = 3 A. Berechnen Sie den Widerstand R.',
                answer: '8',
                unit: 'Œ©',
                tolerance: 0.1,
                solution: 'Nach dem Ohmschen Gesetz: R = U √∑ I = 24 V √∑ 3 A = 8 Œ©',
                explanation: 'Ohmsches Gesetz nach R umgestellt: R = U/I'
            },
            {
                difficulty: 'easy',
                question: 'Gegeben: I = 0.5 A, R = 16 Œ©. Berechnen Sie die Spannung U.',
                answer: '8',
                unit: 'V',
                tolerance: 0.1,
                solution: 'U = I √ó R = 0.5 A √ó 16 Œ© = 8 V',
                explanation: 'Ohmsches Gesetz mit Dezimalzahlen.'
            },
            {
                difficulty: 'easy',
                question: 'Gegeben: U = 15 V, I = 5 A. Berechnen Sie den Widerstand R.',
                answer: '3',
                unit: 'Œ©',
                tolerance: 0.1,
                solution: 'R = U √∑ I = 15 V √∑ 5 A = 3 Œ©',
                explanation: 'Einfache Widerstandsberechnung.'
            },
            
            // MITTLERE AUFGABEN - Einheitenumrechnungen und einfache Verh√§ltnisse
            {
                difficulty: 'medium',
                question: 'Gegeben: U = 9 V, R = 1.5 kŒ©. Berechnen Sie den Strom I in mA.',
                answer: '6',
                unit: 'mA',
                tolerance: 0.1,
                solution: 'R = 1.5 kŒ© = 1500 Œ©. I = U √∑ R = 9 V √∑ 1500 Œ© = 0.006 A = 6 mA',
                explanation: 'Einheitenumrechnung: 1.5 kŒ© = 1500 Œ© und Ergebnis in mA umrechnen.'
            },
            {
                difficulty: 'medium',
                question: 'Ein Widerstand wird von 250 mA durchflossen bei 12 V. Wie gro√ü ist R?',
                answer: '48',
                unit: 'Œ©',
                tolerance: 0.1,
                solution: 'I = 250 mA = 0.25 A. R = U √∑ I = 12 V √∑ 0.25 A = 48 Œ©',
                explanation: 'Umrechnung von mA in A: 250 mA = 0.25 A'
            },
            {
                difficulty: 'medium',
                question: 'Bei welcher Spannung flie√üen durch einen 2.2 kŒ© Widerstand 5 mA?',
                answer: '11',
                unit: 'V',
                tolerance: 0.1,
                solution: 'R = 2.2 kŒ© = 2200 Œ©, I = 5 mA = 0.005 A. U = I √ó R = 0.005 A √ó 2200 Œ© = 11 V',
                explanation: 'Beide Werte umrechnen: 2.2 kŒ© = 2200 Œ©, 5 mA = 0.005 A'
            },
            {
                difficulty: 'medium',
                question: 'Der Strom verdoppelt sich bei gleicher Spannung. Um welchen Faktor √§ndert sich der Widerstand?',
                answer: '0.5',
                unit: '',
                tolerance: 0.01,
                solution: 'Aus I = U/R folgt: I‚ÇÇ = 2√óI‚ÇÅ = U/R‚ÇÇ. Also R‚ÇÇ = U/(2√óI‚ÇÅ) = R‚ÇÅ/2 = 0.5√óR‚ÇÅ',
                explanation: 'Bei doppeltem Strom halbiert sich der Widerstand (I ~ 1/R bei konstanter Spannung).'
            },
            {
                difficulty: 'medium',
                question: 'Die Spannung wird halbiert, der Widerstand bleibt gleich. Wie √§ndert sich der Strom?',
                answer: '0.5',
                unit: '',
                tolerance: 0.01,
                solution: 'I = U/R. Wenn U‚ÇÇ = 0.5√óU‚ÇÅ, dann I‚ÇÇ = (0.5√óU‚ÇÅ)/R = 0.5√ó(U‚ÇÅ/R) = 0.5√óI‚ÇÅ',
                explanation: 'Der Strom ist proportional zur Spannung (I ~ U bei konstantem R).'
            },
            
            // SCHWERE AUFGABEN - Komplexere √Ñnderungen und Anwendungen
            {
                difficulty: 'hard',
                question: 'Eine Anlage mit 5 kŒ© Innenwiderstand wird von 100 V auf 50 V umgeschaltet. Wie √§ndert sich die Stromaufnahme?',
                answer: '0.01',
                unit: 'A',
                tolerance: 0.001,
                solution: 'I‚ÇÅ = 100V/5000Œ© = 0.02A. I‚ÇÇ = 50V/5000Œ© = 0.01A. √Ñnderung = I‚ÇÇ - I‚ÇÅ = 0.01 - 0.02 = -0.01A',
                explanation: 'Bei halber Spannung halbiert sich auch der Strom: von 20 mA auf 10 mA.'
            },
            {
                difficulty: 'hard',
                question: 'Ein Heizwiderstand soll bei 230 V den dreifachen Strom f√ºhren wie bei 120 V. Welches Widerstandsverh√§ltnis ist n√∂tig?',
                answer: '0.52',
                unit: '',
                tolerance: 0.01,
                solution: 'I‚ÇÅ = 120V/R‚ÇÅ, I‚ÇÇ = 230V/R‚ÇÇ = 3√óI‚ÇÅ. Also 230V/R‚ÇÇ = 3√ó120V/R‚ÇÅ. R‚ÇÇ/R‚ÇÅ = 230/(3√ó120) = 0.52',
                explanation: 'R‚ÇÇ = 230V/(3√óI‚ÇÅ) und R‚ÇÅ = 120V/I‚ÇÅ, daher R‚ÇÇ/R‚ÇÅ = 230/(3√ó120) ‚âà 0.52'
            },
            {
                difficulty: 'hard',
                question: 'Bei konstanter Spannung wird der Widerstand um 20% erh√∂ht. Um wie viel Prozent √§ndert sich der Strom?',
                answer: '-16.7',
                unit: '%',
                tolerance: 0.1,
                solution: 'R‚ÇÇ = 1.2√óR‚ÇÅ. I‚ÇÇ = U/R‚ÇÇ = U/(1.2√óR‚ÇÅ) = I‚ÇÅ/1.2 = 0.833√óI‚ÇÅ. √Ñnderung = (0.833-1)√ó100% = -16.7%',
                explanation: 'Bei 20% mehr Widerstand sinkt der Strom um 16.7% (I = 1/1.2 = 0.833 des urspr√ºnglichen Werts).'
            },
            {
                difficulty: 'hard',
                question: 'Ein Temperatursensor √§ndert seinen Widerstand von 1 kŒ© auf 1.5 kŒ©. Bei 5 V, wie √§ndert sich der Strom in mA?',
                answer: '-1.67',
                unit: 'mA',
                tolerance: 0.01,
                solution: 'I‚ÇÅ = 5V/1000Œ© = 0.005A = 5mA. I‚ÇÇ = 5V/1500Œ© = 0.00333A = 3.33mA. √Ñnderung = 3.33 - 5 = -1.67mA',
                explanation: 'Stromabnahme durch Widerstandserh√∂hung: von 5 mA auf 3.33 mA.'
            }
        ];

        function toggleTheory() {
            const content = document.getElementById('theoryContent');
            const icon = document.querySelector('.toggle-icon');
            
            if (content.style.display === 'none' || !content.style.display) {
                content.style.display = 'block';
                icon.textContent = '‚ñ≤';
            } else {
                content.style.display = 'none';
                icon.textContent = '‚ñº';
            }
        }

        // Initialize exercise system when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Create exercise system instance
            window.exerciseSystem = new ExerciseSystem('grundlagen', 'ohmsches-gesetz', ohmschesGesetzExercises);
            
            // Track progress if parent window exists
            if (window.parent && window.parent.emWizard) {
                window.parent.emWizard.progressTracker.updateLastTopic(window.location.href);
            }
        });

        // Track exercise completion when page unloads
        window.addEventListener('beforeunload', function() {
            if (window.exerciseSystem && window.parent && window.parent.emWizard) {
                const progress = window.exerciseSystem.getOverallProgress();
                if (progress.completed > 0) {
                    window.parent.emWizard.progressTracker.markExerciseCompleted('grundlagen', 'ohmsches-gesetz');
                }
            }
        });
    </script>
</body>
</html>