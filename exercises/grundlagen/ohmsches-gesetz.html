<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ohmsches Gesetz - SIU-EM-Wizard</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/exercise.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
</head>
<body>
    <!-- Navigation Header -->
    <header class="exercise-header">
        <nav class="exercise-nav">
            <div class="nav-left">
                <a href="../../index.html" class="btn btn-secondary">‚Üê Zur√ºck zur √úbersicht</a>
            </div>
            <div class="nav-center">
                <h1>Ohmsches Gesetz</h1>
            </div>
        </nav>
    </header>

    <div class="exercise-layout">
        <!-- Main Content Area -->
        <main class="exercise-main">
            <!-- Theory Section (Collapsible) -->
            <section class="theory-section" id="theorySection">
                <div class="theory-header" onclick="toggleTheory()">
                    <h2>üìö Theorie: Ohmsches Gesetz</h2>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="theory-content" id="theoryContent">
                    <div class="theory-grid">
                        <div class="theory-card">
                            <h3>Das Ohmsche Gesetz</h3>
                            <p>$$U = I \times R$$</p>
                            <p>Die Spannung ist gleich dem Produkt aus Strom und Widerstand</p>
                        </div>
                        <div class="theory-card">
                            <h3>Umstellungen</h3>
                            <p>Strom: $$I = \frac{U}{R}$$</p>
                            <p>Widerstand: $$R = \frac{U}{I}$$</p>
                        </div>
                        <div class="theory-card">
                            <h3>Einheiten</h3>
                            <ul>
                                <li><strong>U:</strong> Spannung [V] (Volt)</li>
                                <li><strong>I:</strong> Strom [A] (Ampere)</li>
                                <li><strong>R:</strong> Widerstand [Œ©] (Ohm)</li>
                            </ul>
                        </div>
                        <div class="theory-card">
                            <h3>Merkregel (Dreieck)</h3>
                            <div style="text-align: center; margin: 10px;">
                                <div style="display: inline-block; width: 80px; height: 80px; border: 2px solid #E31E24; position: relative; margin: 20px;">
                                    <div style="position: absolute; top: 10px; left: 50%; transform: translateX(-50%); font-weight: bold;">U</div>
                                    <div style="position: absolute; bottom: 10px; left: 15px; font-weight: bold;">I</div>
                                    <div style="position: absolute; bottom: 10px; right: 15px; font-weight: bold;">R</div>
                                    <div style="position: absolute; top: 50%; left: 0; right: 0; height: 1px; background: #E31E24;"></div>
                                </div>
                            </div>
                            <p><small>Abdecken der gesuchten Gr√∂√üe zeigt die Formel</small></p>
                        </div>
                    </div>
                    <div class="theory-tips">
                        <h4>üí° Wichtige Tipps:</h4>
                        <ul>
                            <li><strong>Einheiten beachten!</strong> Alle Werte in Grundeinheiten</li>
                            <li><strong>Kommastellen:</strong> Bei Strom oft mA (Milliampere)</li>
                            <li><strong>Probe:</strong> Ergebnis in urspr√ºngliche Formel einsetzen</li>
                            <li><strong>Spezifischer Widerstand:</strong> Denken Sie an Leiter vs. Leitung!</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Exercise Content Area -->
            <div class="exercise-content">
                <!-- Exercise content will be dynamically inserted here -->
                <div class="exercise-question">
                    <h3>Aufgabe wird geladen...</h3>
                </div>
            </div>
        </main>

        <!-- Right Sidebar will be dynamically created -->
    </div>

    <!-- Exercise System Script -->
    <script src="../../js/exercise-system.js"></script>
    
    <script>
        // Define exercises for Ohmsches Gesetz
        const ohmschesGesetzExercises = [
            // EINFACHE AUFGABEN
            {
                difficulty: 'easy',
                question: 'Gegeben: I = 2 A, R = 10 Œ©. Berechnen Sie die Spannung U.',
                answer: '20',
                unit: 'V',
                tolerance: 0.1,
                solution: 'Nach dem Ohmschen Gesetz: U = I √ó R = 2 A √ó 10 Œ© = 20 V',
                explanation: 'Direkte Anwendung des Ohmschen Gesetzes: U = I √ó R'
            },
            {
                difficulty: 'easy',
                question: 'Gegeben: U = 12 V, R = 4 Œ©. Berechnen Sie den Strom I.',
                answer: '3',
                unit: 'A',
                tolerance: 0.1,
                solution: 'Nach dem Ohmschen Gesetz: I = U √∑ R = 12 V √∑ 4 Œ© = 3 A',
                explanation: 'Ohmsches Gesetz nach I umgestellt: I = U/R'
            },
            {
                difficulty: 'easy',
                question: 'Gegeben: U = 24 V, I = 3 A. Berechnen Sie den Widerstand R.',
                answer: '8',
                unit: 'Œ©',
                tolerance: 0.1,
                solution: 'Nach dem Ohmschen Gesetz: R = U √∑ I = 24 V √∑ 3 A = 8 Œ©',
                explanation: 'Ohmsches Gesetz nach R umgestellt: R = U/I'
            },
            {
                difficulty: 'easy',
                question: 'Gegeben: I = 0.5 A, R = 20 Œ©. Berechnen Sie die Spannung U.',
                answer: '10',
                unit: 'V',
                tolerance: 0.1,
                solution: 'U = I √ó R = 0.5 A √ó 20 Œ© = 10 V',
                explanation: 'Ohmsches Gesetz mit Dezimalzahlen.'
            },
            {
                difficulty: 'easy',
                question: 'Gegeben: U = 230 V, I = 5 A. Berechnen Sie den Widerstand R.',
                answer: '46',
                unit: 'Œ©',
                tolerance: 0.1,
                solution: 'R = U √∑ I = 230 V √∑ 5 A = 46 Œ©',
                explanation: 'Widerstandsberechnung mit typischen Haushaltwerten.'
            },
            {
                difficulty: 'easy',
                question: 'Gegeben: U = 6 V, R = 12 Œ©. Berechnen Sie den Strom I.',
                answer: '0.5',
                unit: 'A',
                tolerance: 0.01,
                solution: 'I = U √∑ R = 6 V √∑ 12 Œ© = 0.5 A',
                explanation: 'Stromberechnung mit Dezimalergebnis.'
            },
            
            // MITTLERE AUFGABEN
            {
                difficulty: 'medium',
                question: 'Eine Gl√ºhlampe (60 W) wird an 230 V betrieben. Wie gro√ü ist der Strom?',
                answer: '0.26',
                unit: 'A',
                tolerance: 0.01,
                solution: 'Zuerst Widerstand: R = U¬≤/P = 230¬≤/60 = 883 Œ©. Dann I = U/R = 230/883 = 0.26 A',
                explanation: 'Kombination von Leistungsformel und Ohmschen Gesetz.'
            },
            {
                difficulty: 'medium',
                question: 'Ein Heizwiderstand nimmt bei 400 V einen Strom von 8 A auf. Wie gro√ü ist sein Widerstand?',
                answer: '50',
                unit: 'Œ©',
                tolerance: 0.1,
                solution: 'R = U √∑ I = 400 V √∑ 8 A = 50 Œ©',
                explanation: 'Widerstandsberechnung bei h√∂heren Spannungen.'
            },
            {
                difficulty: 'medium',
                question: 'Ein Widerstand von 150 Œ© wird von 200 mA durchflossen. Wie gro√ü ist die Spannung?',
                answer: '30',
                unit: 'V',
                tolerance: 0.1,
                solution: 'I = 200 mA = 0.2 A. U = I √ó R = 0.2 A √ó 150 Œ© = 30 V',
                explanation: 'Umrechnung von mA in A beachten: 200 mA = 0.2 A'
            },
            {
                difficulty: 'medium',
                question: 'An einem 75 Œ© Widerstand liegen 15 V an. Welche Leistung wird umgesetzt?',
                answer: '3',
                unit: 'W',
                tolerance: 0.1,
                solution: 'I = U/R = 15/75 = 0.2 A. P = U √ó I = 15 √ó 0.2 = 3 W oder P = U¬≤/R = 15¬≤/75 = 3 W',
                explanation: 'Leistungsberechnung √ºber Ohmsches Gesetz: P = U¬≤/R oder P = UI'
            },
            {
                difficulty: 'medium',
                question: 'Ein Draht hat 25 Œ© Widerstand. Bei welcher Spannung flie√üen 800 mA?',
                answer: '20',
                unit: 'V',
                tolerance: 0.1,
                solution: 'I = 800 mA = 0.8 A. U = I √ó R = 0.8 A √ó 25 Œ© = 20 V',
                explanation: 'Spannungsberechnung mit mA-Umrechnung.'
            },
            {
                difficulty: 'medium',
                question: 'Eine LED mit Vorwiderstand (R = 220 Œ©) an 9 V. Wie gro√ü ist der LED-Strom?',
                answer: '0.041',
                unit: 'A',
                tolerance: 0.001,
                solution: 'I = U √∑ R = 9 V √∑ 220 Œ© = 0.041 A = 41 mA',
                explanation: 'Typische LED-Schaltung mit Vorwiderstand.'
            },
            
            // SCHWERE AUFGABEN
            {
                difficulty: 'hard',
                question: 'Zwei Widerst√§nde (R‚ÇÅ = 30 Œ©, R‚ÇÇ = 20 Œ©) in Reihe an 100 V. Welche Spannung liegt an R‚ÇÅ?',
                answer: '60',
                unit: 'V',
                tolerance: 0.1,
                solution: 'R_ges = R‚ÇÅ + R‚ÇÇ = 30 + 20 = 50 Œ©. I = U/R_ges = 100/50 = 2 A. U‚ÇÅ = I √ó R‚ÇÅ = 2 √ó 30 = 60 V',
                explanation: 'Reihenschaltung: Gesamtwiderstand berechnen, Strom ermitteln, Teilspannung berechnen.'
            },
            {
                difficulty: 'hard',
                question: 'Drei Widerst√§nde (je 60 Œ©) parallel an 12 V. Wie gro√ü ist der Gesamtstrom?',
                answer: '0.6',
                unit: 'A',
                tolerance: 0.01,
                solution: 'R_parallel = R/n = 60/3 = 20 Œ©. I_ges = U/R_parallel = 12/20 = 0.6 A',
                explanation: 'Parallelschaltung gleicher Widerst√§nde: R_ges = R/n'
            },
            {
                difficulty: 'hard',
                question: 'Ein Motor nimmt 5 A bei 400 V auf (cos œÜ = 0.8). Wie gro√ü ist der Scheinwiderstand?',
                answer: '80',
                unit: 'Œ©',
                tolerance: 0.1,
                solution: 'Z = U √∑ I = 400 V √∑ 5 A = 80 Œ© (Scheinwiderstand bei Wechselstrom)',
                explanation: 'Bei Wechselstrom: Scheinwiderstand Z = U/I (unabh√§ngig vom cos œÜ)'
            },
            {
                difficulty: 'hard',
                question: 'Ein Kupferdraht (œÅ = 0.0175 Œ©¬∑mm¬≤/m, l = 100 m, A = 2.5 mm¬≤) f√ºhrt 10 A. Welcher Spannungsabfall?',
                answer: '0.7',
                unit: 'V',
                tolerance: 0.01,
                solution: 'R = œÅ √ó l/A = 0.0175 √ó 100/2.5 = 0.7 Œ©. U = I √ó R = 10 √ó 0.7 = 7 V',
                explanation: 'Spezifischer Widerstand und Ohmsches Gesetz kombiniert.'
            },
            {
                difficulty: 'hard',
                question: 'Ein Spannungsteiler (R‚ÇÅ = 1 kŒ©, R‚ÇÇ = 2 kŒ©) an 15 V. Welche Spannung an R‚ÇÇ?',
                answer: '10',
                unit: 'V',
                tolerance: 0.1,
                solution: 'Spannungsteiler: U‚ÇÇ = U √ó R‚ÇÇ/(R‚ÇÅ+R‚ÇÇ) = 15 √ó 2000/(1000+2000) = 15 √ó 2/3 = 10 V',
                explanation: 'Spannungsteiler-Formel: U‚ÇÇ = U_ges √ó R‚ÇÇ/(R‚ÇÅ+R‚ÇÇ)'
            },
            {
                difficulty: 'hard',
                question: 'Ein NTC-Widerstand √§ndert sich von 1000 Œ© (20¬∞C) auf 500 Œ© (50¬∞C). Bei 10 V, wie √§ndert sich der Strom?',
                answer: '0.01',
                unit: 'A',
                tolerance: 0.001,
                solution: 'I‚ÇÅ = 10V/1000Œ© = 0.01A. I‚ÇÇ = 10V/500Œ© = 0.02A. √Ñnderung = 0.02 - 0.01 = 0.01A',
                explanation: 'Temperaturabh√§ngiger Widerstand: Strom√§nderung durch Widerstands√§nderung.'
            }
        ];

        function toggleTheory() {
            const content = document.getElementById('theoryContent');
            const icon = document.querySelector('.toggle-icon');
            
            if (content.style.display === 'none' || !content.style.display) {
                content.style.display = 'block';
                icon.textContent = '‚ñ≤';
            } else {
                content.style.display = 'none';
                icon.textContent = '‚ñº';
            }
        }

        // Initialize exercise system when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Create exercise system instance
            window.exerciseSystem = new ExerciseSystem('grundlagen', 'ohmsches-gesetz', ohmschesGesetzExercises);
            
            // Track progress if parent window exists
            if (window.parent && window.parent.emWizard) {
                window.parent.emWizard.progressTracker.updateLastTopic(window.location.href);
            }
        });

        // Track exercise completion when page unloads
        window.addEventListener('beforeunload', function() {
            if (window.exerciseSystem && window.parent && window.parent.emWizard) {
                const progress = window.exerciseSystem.getOverallProgress();
                if (progress.completed > 0) {
                    window.parent.emWizard.progressTracker.markExerciseCompleted('grundlagen', 'ohmsches-gesetz');
                }
            }
        });
    </script>
</body>
</html>