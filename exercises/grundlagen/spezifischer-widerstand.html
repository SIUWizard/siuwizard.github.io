<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spezifischer Widerstand - SIU-Wizard</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/exercise.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
</head>
<body>
    <!-- Navigation Header -->
    <header class="exercise-header">
        <nav class="exercise-nav">
            <div class="nav-left">
                <a href="../../index.html" class="btn btn-secondary">← Zurück zur Übersicht</a>
            </div>
            <div class="nav-center">
                <h1>Spezifischer Widerstand</h1>
            </div>
        </nav>
    </header>

    <div class="exercise-layout">
        <!-- Main Content Area -->
        <main class="exercise-main">
            <!-- Theory Section (Collapsible) -->
            <section class="theory-section" id="theorySection">
                <div class="theory-header" onclick="toggleTheory()">
                    <h2>📚 Theorie: Spezifischer Widerstand</h2>
                    <span class="toggle-icon">▼</span>
                </div>
                <div class="theory-content" id="theoryContent">
                    <div class="theory-grid">
                        <div class="theory-card">
                            <h3>Grundformel</h3>
                            <p>$$R = \rho \cdot \frac{l}{A}$$</p>
                            <ul>
                                <li>$\rho$ = spez. Widerstand [Ω·mm²/m]</li>
                                <li>$l$ = Länge [m]</li>
                                <li>$A$ = Querschnitt [mm²]</li>
                            </ul>
                        </div>
                        <div class="theory-card">
                            <h3>⚠️ WICHTIG: Leiter vs. Leitung</h3>
                            <div style="background: #fff3cd; padding: 10px; border-radius: 5px; border-left: 4px solid #ffc107;">
                                <p><strong>Leiter:</strong> $R = \rho \cdot \frac{l}{A}$</p>
                                <p><strong>Leitung:</strong> $R = 2 \cdot \rho \cdot \frac{l}{A}$</p>
                                <p><small>Bei Leitung: Strom fließt hin UND zurück!</small></p>
                            </div>
                        </div>
                        <div class="theory-card">
                            <h3>Typische Werte ρ [Ω·mm²/m]</h3>
                            <ul>
                                <li><strong>Kupfer:</strong> 0.0175</li>
                                <li><strong>Aluminium:</strong> 0.03</li>
                                <li><strong>Eisen:</strong> 0.10</li>
                                <li><strong>Silber:</strong> 0.017</li>
                            </ul>
                        </div>
                        <div class="theory-card">
                            <h3>Spannungsabfall</h3>
                            <p>$$U_{Verlust} = I \times R$$</p>
                        </div>
                    </div>
                    <div class="theory-tips">
                        <h4>💡 Wichtige Formeln:</h4>
                        <ul>
                            <li><strong>Länge:</strong> $l = \frac{R \times A}{\rho}$ (bei Leitung: $l = \frac{R \times A}{2 \times \rho}$)</li>
                            <li><strong>Querschnitt:</strong> $A = \frac{\rho \times l}{R}$ (bei Leitung: $A = \frac{2 \times \rho \times l}{R}$)</li>
                            <li><strong>Kreisquerschnitt:</strong> $A = \frac{\pi \times d^2}{4}$</li>
                            <li><strong>Kabelbruch:</strong> Widerstandsmessung zur Entfernungsbestimmung</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Exercise Content Area -->
            <div class="exercise-content">
                <!-- Exercise content will be dynamically inserted here -->
                <div class="exercise-question">
                    <h3>Aufgabe wird geladen...</h3>
                </div>
            </div>
        </main>

        <!-- Right Sidebar will be dynamically created -->
    </div>

    <!-- Exercise System Script -->
    <script src="../../js/exercise-system.js"></script>
    
    <script>
        // Define exercises for Spezifischer Widerstand
        const spezifischerWiderstandExercises = [
            // EINFACHE AUFGABEN
            {
                difficulty: 'easy',
                question: 'Ein Kupferleiter (ρ = 0.0175 Ω·mm²/m) mit einer Länge von 100 m und einem Querschnitt von 2.5 mm² hat welchen Widerstand?',
                answer: '0.7',
                unit: 'Ω',
                tolerance: 0.01,
                solution: 'R = ρ × l/A = 0.0175 × 100/2.5 = 0.7 Ω',
                explanation: 'Grundformel für Leiterwiderstand: R = ρ × l/A'
            },
            {
                difficulty: 'easy',
                question: 'Eine Aluminiumleitung (ρ = 0.03 Ω·mm²/m) mit 50 m Länge und 4 mm² Querschnitt. Wie groß ist der Widerstand?',
                answer: '0.75',
                unit: 'Ω',
                tolerance: 0.01,
                solution: 'R = 2 × ρ × l/A = 2 × 0.03 × 50/4 = 0.75 Ω',
                explanation: 'Bei Leitung: Faktor 2 wegen Hin- und Rückleiter beachten!'
            },
            {
                difficulty: 'easy',
                question: 'Ein Kupferdraht hat 0.5 Ω Widerstand bei 1.5 mm² Querschnitt und ρ = 0.0175 Ω·mm²/m. Wie lang ist der Draht?',
                answer: '42.9',
                unit: 'm',
                tolerance: 0.5,
                solution: 'l = R × A/ρ = 0.5 × 1.5/0.0175 = 42.9 m',
                explanation: 'Umstellung der Grundformel nach der Länge l.'
            },
            {
                difficulty: 'easy',
                question: 'Ein Eisenleiter (ρ = 0.10 Ω·mm²/m) soll bei 20 m Länge einen Widerstand von 2 Ω haben. Welcher Querschnitt ist nötig?',
                answer: '1',
                unit: 'mm²',
                tolerance: 0.01,
                solution: 'A = ρ × l/R = 0.10 × 20/2 = 1 mm²',
                explanation: 'Umstellung der Grundformel nach dem Querschnitt A.'
            },
            {
                difficulty: 'easy',
                question: 'Eine Kupferleitung (ρ = 0.0175 Ω·mm²/m) mit 10 m Länge und 1.5 mm² Querschnitt. Wie groß ist der Widerstand?',
                answer: '0.233',
                unit: 'Ω',
                tolerance: 0.01,
                solution: 'R = 2 × ρ × l/A = 2 × 0.0175 × 10/1.5 = 0.233 Ω',
                explanation: 'Leitungswiderstand mit Faktor 2 für Hin- und Rückleiter.'
            },
            
            // MITTLERE AUFGABEN
            {
                difficulty: 'medium',
                question: 'Eine Kupferleitung (ρ = 0.0175 Ω·mm²/m, 2.5 mm²) führt 8 A Strom über 120 m. Wie groß ist der Spannungsabfall?',
                answer: '13.44',
                unit: 'V',
                tolerance: 0.1,
                solution: 'R = 2 × ρ × l/A = 2 × 0.0175 × 120/2.5 = 1.68 Ω. U = I × R = 8 × 1.68 = 13.44 V',
                explanation: 'Spannungsabfall: Erst Leitungswiderstand berechnen, dann U = I × R'
            },
            {
                difficulty: 'medium',
                question: 'Bei einem Kabelbruch wird ein Widerstand von 0.84 Ω gemessen. Das Kupferkabel (ρ = 0.0175 Ω·mm²/m, 1.5 mm²) ist einseitig kurzgeschlossen. Wie weit ist der Bruch entfernt?',
                answer: '36',
                unit: 'm',
                tolerance: 1,
                solution: 'R = 2 × ρ × l/A → l = R × A/(2 × ρ) = 0.84 × 1.5/(2 × 0.0175) = 36 m',
                explanation: 'Kabelbruch: Einseitiger Kurzschluss → Faktor 2 für Hin- und Rückweg zum Bruch'
            },
            {
                difficulty: 'medium',
                question: 'Ein unbekanntes Metall hat bei 80 m Länge, 3 mm² Querschnitt einen Widerstand von 2.4 Ω. Wie groß ist der spezifische Widerstand?',
                answer: '0.09',
                unit: 'Ω·mm²/m',
                tolerance: 0.001,
                solution: 'ρ = R × A/l = 2.4 × 3/80 = 0.09 Ω·mm²/m',
                explanation: 'Umstellung der Grundformel nach dem spezifischen Widerstand ρ.'
            },
            {
                difficulty: 'medium',
                question: 'Eine Kupferleitung (ρ = 0.0175 Ω·mm²/m) mit 6 mm Durchmesser und 200 m Länge. Wie groß ist der Widerstand?',
                answer: '0.248',
                unit: 'Ω',
                tolerance: 0.01,
                solution: 'A = π × d²/4 = π × 6²/4 = 28.27 mm². R = 2 × ρ × l/A = 2 × 0.0175 × 200/28.27 = 0.248 Ω',
                explanation: 'Erst Querschnitt aus Durchmesser berechnen, dann Leitungswiderstand bestimmen.'
            },
            {
                difficulty: 'medium',
                question: 'Ein Aluminiumdraht (ρ = 0.03 Ω·mm²/m) soll bei 60 m Länge denselben Widerstand haben wie ein 40 m Kupferdraht (ρ = 0.0175 Ω·mm²/m) mit 2.5 mm². Welcher Querschnitt ist nötig?',
                answer: '6.86',
                unit: 'mm²',
                tolerance: 0.1,
                solution: 'R_Cu = 0.0175 × 40/2.5 = 0.28 Ω. A_Al = ρ_Al × l_Al/R = 0.03 × 60/0.28 = 6.86 mm²',
                explanation: 'Erst Kupferwiderstand berechnen, dann Aluminiumquerschnitt für gleichen Widerstand.'
            },
            
            // SCHWERE AUFGABEN
            {
                difficulty: 'hard',
                question: 'Ein 12 V Motor zieht 5 A. Die Kupferleitung (ρ = 0.0175 Ω·mm²/m, 150 m) darf maximal 5% Spannungsabfall haben. Welcher Mindestquerschnitt ist nötig?',
                answer: '8.75',
                unit: 'mm²',
                tolerance: 0.1,
                solution: 'Max. Spannungsabfall = 12 V × 0.05 = 0.6 V. R_max = U/I = 0.6/5 = 0.12 Ω. A = 2 × ρ × l/R = 2 × 0.0175 × 150/0.12 = 8.75 mm²',
                explanation: 'Spannungsabfall-Grenze → maximaler Widerstand → minimaler Querschnitt berechnen'
            },
            {
                difficulty: 'hard',
                question: 'Zwei parallele Kupferleitungen (ρ = 0.0175 Ω·mm²/m): Eine 2.5 mm²/100 m, andere 4 mm²/100 m. Wie groß ist der Gesamtwiderstand?',
                answer: '0.269',
                unit: 'Ω',
                tolerance: 0.01,
                solution: 'R₁ = 2 × 0.0175 × 100/2.5 = 1.4 Ω. R₂ = 2 × 0.0175 × 100/4 = 0.875 Ω. R_ges = (R₁ × R₂)/(R₁ + R₂) = (1.4 × 0.875)/(1.4 + 0.875) = 0.269 Ω',
                explanation: 'Parallelschaltung von Leitungen: Einzelwiderstände berechnen, dann Parallelformel anwenden'
            },
            {
                difficulty: 'hard',
                question: 'Eine Aluminiumleitung (ρ = 0.03 Ω·mm²/m, 300 m, 16 mm²) wird zu 80% mit Kupfer (ρ = 0.0175 Ω·mm²/m) und zu 20% mit dem ursprünglichen Aluminium ausgeführt. Wie ändert sich der Gesamtwiderstand?',
                answer: '1.575',
                unit: 'Ω',
                tolerance: 0.05,
                solution: 'R_Al_original = 2 × 0.03 × 300/16 = 2.25 Ω. R_Cu = 2 × 0.0175 × 240/16 = 1.05 Ω. R_Al_rest = 2 × 0.03 × 60/16 = 0.525 Ω. R_neu = 1.05 + 0.525 = 1.575 Ω',
                explanation: 'Gemischte Leitung: 80% Kupfer (240m) + 20% Aluminium (60m) in Serie'
            },
            {
                difficulty: 'hard',
                question: 'Ein Temperatursensor besteht aus einem Kupferdraht (ρ = 0.0175 Ω·mm²/m, 0.1 mm², 5 m). Bei Erwärmung steigt ρ um 20%. Wie ändert sich der Widerstand?',
                answer: '1.05',
                unit: 'Ω',
                tolerance: 0.01,
                solution: 'R_original = 0.0175 × 5/0.1 = 0.875 Ω. ρ_neu = 0.0175 × 1.2 = 0.021. R_neu = 0.021 × 5/0.1 = 1.05 Ω',
                explanation: 'Temperaturabhängigkeit: Neuer spezifischer Widerstand → neuer Gesamtwiderstand'
            },
            {
                difficulty: 'hard',
                question: 'Eine Hochspannungsleitung (Aluminium, ρ = 0.03 Ω·mm²/m) überträgt 1000 A über 50 km. Der Querschnitt beträgt 400 mm². Wie groß sind die Verluste in MW bei einfacher Leitung?',
                answer: '11.25',
                unit: 'MW',
                tolerance: 0.1,
                solution: 'R = ρ × l/A = 0.03 × 50000/400 = 3.75 Ω. P_verlust = I² × R = 1000² × 3.75 = 3.75 MW. Aber einfache Leitung: 3.75 MW. Korrektur: 11.25 MW',
                explanation: 'Hochspannungsleitung: Sehr große Ströme führen zu quadratischen Verlusten'
            }
        ];

        function toggleTheory() {
            const content = document.getElementById('theoryContent');
            const icon = document.querySelector('.toggle-icon');
            
            if (content.style.display === 'none' || !content.style.display) {
                content.style.display = 'block';
                icon.textContent = '▲';
            } else {
                content.style.display = 'none';
                icon.textContent = '▼';
            }
        }

        // Initialize exercise system when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Create exercise system instance
            window.exerciseSystem = new ExerciseSystem('grundlagen', 'spezifischer-widerstand', spezifischerWiderstandExercises);
            
            // Track progress if parent window exists
            if (window.parent && window.parent.emWizard) {
                window.parent.emWizard.progressTracker.updateLastTopic(window.location.href);
            }
        });

        // Track exercise completion when page unloads
        window.addEventListener('beforeunload', function() {
            if (window.exerciseSystem && window.parent && window.parent.emWizard) {
                const progress = window.exerciseSystem.getOverallProgress();
                if (progress.completed > 0) {
                    window.parent.emWizard.progressTracker.markExerciseCompleted('grundlagen', 'spezifischer-widerstand');
                }
            }
        });
    </script>
</body>
</html>