<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leistung und Arbeit - SIU-EM-Wizard</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/exercise.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
</head>
<body>
    <!-- Navigation Header -->
    <header class="exercise-header">
        <nav class="exercise-nav">
            <div class="nav-left">
                <a href="../../index.html" class="btn btn-secondary">‚Üê Zur√ºck zur √úbersicht</a>
            </div>
            <div class="nav-center">
                <h1>Elektrische Leistung und Arbeit</h1>
            </div>
        </nav>
    </header>

    <div class="exercise-layout">
        <!-- Main Content Area -->
        <main class="exercise-main">
            <!-- Theory Section (Collapsible) -->
            <section class="theory-section" id="theorySection">
                <div class="theory-header" onclick="toggleTheory()">
                    <h2>üìö Theorie: Elektrische Leistung, Arbeit und Wirkungsgrad</h2>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="theory-content" id="theoryContent">
                    <div class="theory-grid">
                        <div class="theory-card">
                            <h3>Elektrische Leistung (DC)</h3>
                            <p>$P = U \times I$</p>
                            <p>$P = \frac{U^2}{R} = I^2 \times R$</p>
                            <p><strong>Einheit:</strong> Watt [W]</p>
                        </div>
                        <div class="theory-card">
                            <h3>Elektrische Arbeit/Energie</h3>
                            <p>$W = P \times t$</p>
                            <p><strong>Einheiten:</strong> Joule [J], Wattstunde [Wh]</p>
                            <p>1 kWh = 3.6 MJ</p>
                        </div>
                        <div class="theory-card">
                            <h3>Wirkungsgrad</h3>
                            <p>$\eta = \frac{P_{ab}}{P_{auf}}$</p>
                            <p>$\eta_{gesamt} = \eta_1 \times \eta_2 \times ... \times \eta_n$</p>
                            <p>Angabe: 0...1 oder 0...100%</p>
                        </div>
                        <div class="theory-card">
                            <h3>Leistungsabh√§ngigkeiten</h3>
                            <p>$P \sim U^2 \text{ (bei konstantem R)}$</p>
                            <p>$P \sim I^2 \text{ (bei konstantem R)}$</p>
                            <p>$P \sim \frac{1}{R} \text{ (bei konstanter U)}$</p>
                        </div>
                    </div>
                    <div class="theory-tips">
                        <h4>üí° Wichtige Zusammenh√§nge:</h4>
                        <ul>
                            <li><strong>Leistungs√§nderung:</strong> Verdopplung von U ‚Üí Vervierfachung von P</li>
                            <li><strong>Verlustleistung:</strong> $P_{Verlust} = P_{auf} - P_{ab}$</li>
                            <li><strong>Energiekosten:</strong> Kosten = Energie √ó Preis pro kWh</li>
                            <li><strong>Ohmsches Gesetz:</strong> $U = R \times I$</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Exercise Content Area -->
            <div class="exercise-content">
                <!-- Exercise content will be dynamically inserted here -->
                <div class="exercise-question">
                    <h3>Aufgabe wird geladen...</h3>
                </div>
            </div>
        </main>

        <!-- Right Sidebar will be dynamically created -->
    </div>

    <!-- Exercise System Script -->
    <script src="../../js/exercise-system.js"></script>
    
    <script>
        // Define exercises for Elektrische Leistung und Arbeit
        const leistungArbeitExercises = [
            // EINFACHE AUFGABEN (4 St√ºck)
            {
                difficulty: 'easy',
                question: 'Ein Motor nimmt eine elektrische Leistung von 1000 W auf und hat einen Wirkungsgrad von 80%. Wie gro√ü ist die mechanische Abgabeleistung?',
                answer: '800',
                unit: 'W',
                tolerance: 1,
                solution: 'Mechanische Leistung = Elektrische Leistung √ó Wirkungsgrad: P_mech = 1000 W √ó 0.8 = 800 W',
                explanation: 'Wirkungsgrad-Berechnung: Abgegebene Leistung aus aufgenommener Leistung.'
            },
            {
                difficulty: 'easy',
                question: 'Eine Gl√ºhlampe mit 60 W brennt 5 Stunden. Wie viel Energie verbraucht sie in kWh?',
                answer: '0.3',
                unit: 'kWh',
                tolerance: 0.001,
                solution: 'Energie = Leistung √ó Zeit: W = 60 W √ó 5 h = 300 Wh = 0.3 kWh',
                explanation: 'Energieberechnung: P √ó t und Umrechnung von Wh zu kWh.'
            },
            {
                difficulty: 'easy',
                question: 'Ein Heizger√§t hat eine Leistung von 2000 W. Wie viel Strom flie√üt bei 230 V Spannung?',
                answer: '8.7',
                unit: 'A',
                tolerance: 0.1,
                solution: 'Strom = Leistung √∑ Spannung: I = P/U = 2000 W √∑ 230 V = 8.7 A',
                explanation: 'Ohmsches Gesetz: I = P/U'
            },
            {
                difficulty: 'easy',
                question: 'Die Spannung an einem Widerstand wird verdoppelt. Wie verh√§lt sich die Leistung?',
                answer: '4',
                unit: 'fach',
                tolerance: 0.1,
                solution: 'P = U¬≤/R. Bei Verdopplung von U: P_neu = (2U)¬≤/R = 4U¬≤/R = 4 √ó P_alt',
                explanation: 'Quadratische Abh√§ngigkeit der Leistung von der Spannung bei konstantem Widerstand.'
            },
            
            // MITTLERE AUFGABEN (4 St√ºck)
            {
                difficulty: 'medium',
                question: 'Ein Elektromotor (230 V, 5 A, Œ∑ = 85%) treibt eine Pumpe an. Wie gro√ü ist die mechanische Leistung?',
                answer: '977.5',
                unit: 'W',
                tolerance: 5,
                solution: 'P_el = U √ó I = 230 V √ó 5 A = 1150 W. P_mech = Œ∑ √ó P_el = 0.85 √ó 1150 W = 977.5 W',
                explanation: 'Erst elektrische Leistung berechnen, dann mechanische Leistung √ºber Wirkungsgrad.'
            },
            {
                difficulty: 'medium',
                question: 'Ein Motor mit 2 kW mechanischer Leistung und 90% Wirkungsgrad. Wie gro√ü ist die elektrische Aufnahme?',
                answer: '2222',
                unit: 'W',
                tolerance: 10,
                solution: 'P_auf = P_ab √∑ Œ∑ = 2000 W √∑ 0.9 = 2222 W',
                explanation: 'Aufgenommene Leistung aus abgegebener Leistung und Wirkungsgrad.'
            },
            {
                difficulty: 'medium',
                question: 'An einem 50 Œ© Widerstand liegt 100 V Spannung. Der Strom wird halbiert. Wie √§ndert sich die Leistung?',
                answer: '25',
                unit: '%',
                tolerance: 1,
                solution: 'P = I¬≤R. Bei halbem Strom: P_neu = (I/2)¬≤R = I¬≤R/4 = P_alt/4 = 25% der urspr√ºnglichen Leistung',
                explanation: 'Quadratische Abh√§ngigkeit der Leistung vom Strom bei konstantem Widerstand.'
            },
            {
                difficulty: 'medium',
                question: 'Ein System besteht aus Trafo (Œ∑‚ÇÅ = 95%) und Motor (Œ∑‚ÇÇ = 88%). Wie gro√ü ist der Gesamtwirkungsgrad?',
                answer: '83.6',
                unit: '%',
                tolerance: 0.5,
                solution: 'Gesamtwirkungsgrad = Œ∑‚ÇÅ √ó Œ∑‚ÇÇ = 0.95 √ó 0.88 = 0.836 = 83.6%',
                explanation: 'Bei Reihenschaltung werden die Wirkungsgrade multipliziert.'
            },
            
            // SCHWERE AUFGABEN (4 St√ºck)
            {
                difficulty: 'hard',
                question: 'Ein System aus 3 Komponenten (Œ∑‚ÇÅ = 92%, Œ∑‚ÇÇ = 88%, Œ∑‚ÇÉ = 95%) soll 5 kW abgeben. Wie gro√ü ist die elektrische Aufnahme?',
                answer: '6486',
                unit: 'W',
                tolerance: 50,
                solution: 'Œ∑_ges = Œ∑‚ÇÅ √ó Œ∑‚ÇÇ √ó Œ∑‚ÇÉ = 0.92 √ó 0.88 √ó 0.95 = 0.7704. P_auf = P_ab/Œ∑_ges = 5000/0.7704 = 6486 W',
                explanation: 'Gesamtwirkungsgrad berechnen, dann Aufnahme aus Abgabe ermitteln.'
            },
            {
                difficulty: 'hard',
                question: 'Ein Motor (5 kW Abgabe, Œ∑ = 85%) l√§uft 8 h t√§glich. Strompreis: 0.25 ‚Ç¨/kWh. Welche sind die t√§glichen Stromkosten?',
                answer: '11.76',
                unit: '‚Ç¨',
                tolerance: 0.1,
                solution: 'P_auf = P_ab/Œ∑ = 5000/0.85 = 5882 W = 5.882 kW. T√§glicher Verbrauch = 5.882 √ó 8 = 47.06 kWh. Kosten = 47.06 √ó 0.25 = 11.76 ‚Ç¨',
                explanation: 'Elektrische Aufnahme berechnen, t√§glichen Verbrauch ermitteln, mit Strompreis multiplizieren.'
            },
            {
                difficulty: 'hard',
                question: 'Ein Widerstand wird bei konstanter Leistung von 500 W betrieben. Spannung steigt von 100 V auf 200 V. Wie √§ndert sich der Strom?',
                answer: '2.5',
                unit: 'A',
                tolerance: 0.1,
                solution: 'Bei konstanter Leistung: P = U √ó I ‚Üí I = P/U. I_neu = 500 W / 200 V = 2.5 A. (I_alt = 500/100 = 5 A, also halbiert)',
                explanation: 'Bei konstanter Leistung ist der Strom umgekehrt proportional zur Spannung.'
            },
            {
                difficulty: 'hard',
                question: 'Ein DC-Motor (24 V, 15 A) hat einen Wirkungsgrad von 78%. Die Verlustleistung wird als W√§rme abgegeben. Wie gro√ü ist die Verlustleistung?',
                answer: '79.2',
                unit: 'W',
                tolerance: 1,
                solution: 'P_auf = U √ó I = 24 V √ó 15 A = 360 W. P_ab = Œ∑ √ó P_auf = 0.78 √ó 360 = 280.8 W. P_verlust = P_auf - P_ab = 360 - 280.8 = 79.2 W',
                explanation: 'Aufgenommene Leistung berechnen, abgegebene Leistung √ºber Wirkungsgrad, Differenz ist Verlustleistung.'
            }
        ];

        function toggleTheory() {
            const content = document.getElementById('theoryContent');
            const icon = document.querySelector('.toggle-icon');
            
            if (content.style.display === 'none' || !content.style.display) {
                content.style.display = 'block';
                icon.textContent = '‚ñ≤';
            } else {
                content.style.display = 'none';
                icon.textContent = '‚ñº';
            }
        }

        // Initialize exercise system when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Create exercise system instance
            window.exerciseSystem = new ExerciseSystem('grundlagen', 'leistung-arbeit', leistungArbeitExercises);
            
            // Track progress if parent window exists
            if (window.parent && window.parent.emWizard) {
                window.parent.emWizard.progressTracker.updateLastTopic(window.location.href);
            }
        });

        // Track exercise completion when page unloads
        window.addEventListener('beforeunload', function() {
            if (window.exerciseSystem && window.parent && window.parent.emWizard) {
                const progress = window.exerciseSystem.getOverallProgress();
                if (progress.completed > 0) {
                    window.parent.emWizard.progressTracker.markExerciseCompleted('grundlagen', 'leistung-arbeit');
                }
            }
        });
    </script>
</body>
</html>