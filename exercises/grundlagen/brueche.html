<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Br√ºche - SIU-Wizard</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/exercise.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
</head>
<body>
    <!-- Navigation Header -->
    <header class="exercise-header">
        <nav class="exercise-nav">
            <div class="nav-left">
                <a href="../../index.html" class="btn btn-secondary">‚Üê Zur√ºck zur √úbersicht</a>
            </div>
            <div class="nav-center">
                <h1>Bruchrechnung</h1>
            </div>
        </nav>
    </header>

    <div class="exercise-layout">
        <!-- Main Content Area -->
        <main class="exercise-main">
            <!-- Theory Section (Collapsible) -->
            <section class="theory-section" id="theorySection">
                <div class="theory-header" onclick="toggleTheory()">
                    <h2>üìö Theorie: Bruchrechnung</h2>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="theory-content" id="theoryContent">
                    <div class="theory-grid">
                        <div class="theory-card">
                            <h3>Bruch-Aufbau</h3>
                            <p>Ein Bruch besteht aus:</p>
                            <p>$$\frac{\text{Z√§hler}}{\text{Nenner}} = \frac{a}{b}$$</p>
                            <p><strong>Beispiel:</strong> $\frac{3}{4}$ bedeutet "3 von 4 Teilen"</p>
                        </div>
                        
                        <div class="theory-card">
                            <h3>Br√ºche erweitern</h3>
                            <p>Z√§hler und Nenner mit der gleichen Zahl multiplizieren:</p>
                            <p>$$\frac{a}{b} = \frac{a \times c}{b \times c}$$</p>
                            <p><strong>Beispiel:</strong> $\frac{2}{3} = \frac{2 \times 4}{3 \times 4} = \frac{8}{12}$</p>
                            <p>Der Wert des Bruchs bleibt gleich!</p>
                        </div>
                        
                        <div class="theory-card">
                            <h3>Br√ºche k√ºrzen</h3>
                            <p>Z√§hler und Nenner durch die gleiche Zahl teilen:</p>
                            <p>$$\frac{a \times c}{b \times c} = \frac{a}{b}$$</p>
                            <p><strong>Beispiel:</strong> $\frac{12}{18} = \frac{12 \div 6}{18 \div 6} = \frac{2}{3}$</p>
                            <p>Immer durch den <strong>gr√∂ssten gemeinsamen Teiler (ggT)</strong> k√ºrzen!</p>
                        </div>
                        
                        <div class="theory-card">
                            <h3>Addition/Subtraktion</h3>
                            <p>Bei gleichen Nennern:</p>
                            <p>$$\frac{a}{c} \pm \frac{b}{c} = \frac{a \pm b}{c}$$</p>
                            <p>Bei verschiedenen Nennern: Erweitern auf gemeinsamen Nenner</p>
                            <p><strong>Beispiel:</strong> $\frac{1}{2} + \frac{1}{3} = \frac{3}{6} + \frac{2}{6} = \frac{5}{6}$</p>
                        </div>
                        
                        <div class="theory-card">
                            <h3>Multiplikation</h3>
                            <p>Z√§hler mal Z√§hler, Nenner mal Nenner:</p>
                            <p>$$\frac{a}{b} \times \frac{c}{d} = \frac{a \times c}{b \times d}$$</p>
                            <p><strong>Beispiel:</strong> $\frac{2}{3} \times \frac{4}{5} = \frac{8}{15}$</p>
                            <p><strong>Tipp:</strong> Vor der Multiplikation k√ºrzen spart Arbeit!</p>
                        </div>
                        
                        <div class="theory-card">
                            <h3>Division</h3>
                            <p>Multipliziere mit dem Kehrwert:</p>
                            <p>$$\frac{a}{b} \div \frac{c}{d} = \frac{a}{b} \times \frac{d}{c} = \frac{a \times d}{b \times c}$$</p>
                            <p><strong>Beispiel:</strong> $\frac{2}{3} \div \frac{4}{5} = \frac{2}{3} \times \frac{5}{4} = \frac{10}{12} = \frac{5}{6}$</p>
                        </div>
                    </div>
                    <div class="theory-tips">
                        <h4>üí° Wichtige Regeln:</h4>
                        <ul>
                            <li><strong>Gemeinsamer Nenner:</strong> Kleinstes gemeinsames Vielfaches (kgV) finden</li>
                            <li><strong>Vollst√§ndig k√ºrzen:</strong> Immer durch den gr√∂ssten gemeinsamen Teiler (ggT)</li>
                            <li><strong>Kehrwert bilden:</strong> Z√§hler und Nenner vertauschen</li>
                            <li><strong>Mit Variablen:</strong> Gleiche Regeln wie mit Zahlen anwenden</li>
                            <li><strong>Kontrolle:</strong> Ergebnis immer vollst√§ndig k√ºrzen</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Exercise Content Area -->
            <div class="exercise-content">
                <!-- Exercise content will be dynamically inserted here -->
                <div class="exercise-question">
                    <h3>Aufgabe wird geladen...</h3>
                </div>
            </div>
        </main>

        <!-- Right Sidebar will be dynamically created -->
    </div>

    <!-- Exercise System Script -->
    <script src="../../js/exercise-system.js"></script>
    
    <script>
        // Define exercises for Bruchrechnung
        const bruchrechnungExercises = [
            // ============ EINFACHE AUFGABEN (EASY) ============
            {
                difficulty: 'easy',
                question: 'Erweitern Sie den Bruch $\\frac{2}{3}$ auf den Nenner 12:<br><br>$\\frac{2}{3} = \\frac{?}{12}$',
                answer: '8',
                unit: '',
                tolerance: 0,
                solution: 'Um auf Nenner 12 zu erweitern, multiplizieren wir mit 4:<br>$\\frac{2}{3} = \\frac{2 \\times 4}{3 \\times 4} = \\frac{8}{12}$',
                explanation: 'Br√ºche erweitern durch Multiplikation von Z√§hler und Nenner mit derselben Zahl'
            },
            {
                difficulty: 'easy',
                question: 'K√ºrzen Sie den Bruch soweit wie m√∂glich:<br><br>$\\frac{6}{9} = ?$',
                answer: '2/3',
                unit: '',
                tolerance: 0,
                solution: 'ggT von 6 und 9 ist 3:<br>$\\frac{6}{9} = \\frac{6 \\div 3}{9 \\div 3} = \\frac{2}{3}$',
                explanation: 'Br√ºche k√ºrzen durch Division von Z√§hler und Nenner durch den ggT'
            },
            {
                difficulty: 'easy',
                question: 'Erweitern Sie den Bruch $\\frac{1}{4}$ auf den Nenner 20:<br><br>$\\frac{1}{4} = \\frac{?}{20}$',
                answer: '5',
                unit: '',
                tolerance: 0,
                solution: 'Um auf Nenner 20 zu erweitern, multiplizieren wir mit 5:<br>$\\frac{1}{4} = \\frac{1 \\times 5}{4 \\times 5} = \\frac{5}{20}$',
                explanation: 'Erweitern durch Multiplikation mit 5'
            },
            {
                difficulty: 'easy',
                question: 'K√ºrzen Sie den Bruch soweit wie m√∂glich:<br><br>$\\frac{10}{15} = ?$',
                answer: '2/3',
                unit: '',
                tolerance: 0,
                solution: 'ggT von 10 und 15 ist 5:<br>$\\frac{10}{15} = \\frac{10 \\div 5}{15 \\div 5} = \\frac{2}{3}$',
                explanation: 'Vollst√§ndiges K√ºrzen durch den gr√∂ssten gemeinsamen Teiler'
            },
            {
                difficulty: 'easy',
                question: 'Addieren Sie die Br√ºche (gleicher Nenner):<br><br>$\\frac{2}{7} + \\frac{3}{7} = ?$',
                answer: '5/7',
                unit: '',
                tolerance: 0,
                solution: 'Bei gleichem Nenner addieren wir die Z√§hler:<br>$\\frac{2}{7} + \\frac{3}{7} = \\frac{2+3}{7} = \\frac{5}{7}$',
                explanation: 'Addition von Br√ºchen mit gleichem Nenner'
            },

            // ============ MITTLERE AUFGABEN (MEDIUM) ============
            {
                difficulty: 'medium',
                question: 'Addieren Sie die Br√ºche (verschiedene Nenner):<br><br>$\\frac{1}{3} + \\frac{1}{4} = ?$',
                answer: '7/12',
                unit: '',
                tolerance: 0,
                solution: 'Gemeinsamer Nenner ist kgV(3,4) = 12:<br>$\\frac{1}{3} + \\frac{1}{4} = \\frac{4}{12} + \\frac{3}{12} = \\frac{7}{12}$',
                explanation: 'Addition durch Erweitern auf gemeinsamen Nenner'
            },
            {
                difficulty: 'medium',
                question: 'Erweitern Sie den Bruch $\\frac{3x}{4}$ auf den Nenner $12y$:<br><br>$\\frac{3x}{4} = \\frac{?}{12y}$',
                answer: '9xy',
                unit: '',
                tolerance: 0,
                solution: 'Um auf Nenner $12y$ zu erweitern, multiplizieren wir mit $3y$:<br>$\\frac{3x}{4} = \\frac{3x \\times 3y}{4 \\times 3y} = \\frac{9xy}{12y}$',
                explanation: 'Erweitern von Br√ºchen mit Variablen'
            },
            {
                difficulty: 'medium',
                question: 'Subtrahieren Sie die Br√ºche:<br><br>$\\frac{5}{6} - \\frac{1}{4} = ?$',
                answer: '7/12',
                unit: '',
                tolerance: 0,
                solution: 'Gemeinsamer Nenner ist kgV(6,4) = 12:<br>$\\frac{5}{6} - \\frac{1}{4} = \\frac{10}{12} - \\frac{3}{12} = \\frac{7}{12}$',
                explanation: 'Subtraktion durch Erweitern auf gemeinsamen Nenner'
            },
            {
                difficulty: 'medium',
                question: 'Multiplizieren Sie und k√ºrzen Sie das Ergebnis:<br><br>$\\frac{2}{3} \\times \\frac{9}{4} = ?$',
                answer: '3/2',
                unit: '',
                tolerance: 0,
                solution: 'Multiplizieren und dann k√ºrzen:<br>$\\frac{2}{3} \\times \\frac{9}{4} = \\frac{18}{12} = \\frac{18 \\div 6}{12 \\div 6} = \\frac{3}{2}$',
                explanation: 'Multiplikation mit anschliessendem K√ºrzen'
            },
            {
                difficulty: 'medium',
                question: 'Dividieren Sie die Br√ºche:<br><br>$\\frac{3}{5} \\div \\frac{2}{7} = ?$',
                answer: '21/10',
                unit: '',
                tolerance: 0,
                solution: 'Division durch Multiplikation mit dem Kehrwert:<br>$\\frac{3}{5} \\div \\frac{2}{7} = \\frac{3}{5} \\times \\frac{7}{2} = \\frac{21}{10}$',
                explanation: 'Division von Br√ºchen'
            },

            // ============ SCHWERE AUFGABEN (HARD) ============
            {
                difficulty: 'hard',
                question: 'Berechnen Sie und k√ºrzen Sie das Ergebnis soweit wie m√∂glich:<br><br>$\\frac{2a}{3b} + \\frac{a}{4b} = ?$',
                answer: '11a/12b',
                unit: '',
                tolerance: 0,
                solution: 'Gemeinsamer Nenner ist $12b$:<br>$\\frac{2a}{3b} + \\frac{a}{4b} = \\frac{8a}{12b} + \\frac{3a}{12b} = \\frac{11a}{12b}$',
                explanation: 'Addition von Br√ºchen mit Variablen'
            },
            {
                difficulty: 'hard',
                question: 'Multiplizieren Sie und k√ºrzen Sie soweit wie m√∂glich:<br><br>$\\frac{4x^2}{6y} \\times \\frac{3y^2}{8x} = ?$',
                answer: 'xy/4',
                unit: '',
                tolerance: 0,
                solution: 'Multiplizieren und k√ºrzen:<br>$\\frac{4x^2}{6y} \\times \\frac{3y^2}{8x} = \\frac{12x^2y^2}{48xy} = \\frac{12x^2y^2 \\div 12xy}{48xy \\div 12xy} = \\frac{xy}{4}$',
                explanation: 'Multiplikation von Br√ºchen mit Potenzen und Variablen'
            },
            {
                difficulty: 'hard',
                question: 'Berechnen Sie:<br><br>$\\frac{3}{4} - \\frac{1}{6} + \\frac{1}{12} = ?$',
                answer: '2/3',
                unit: '',
                tolerance: 0,
                solution: 'Gemeinsamer Nenner ist kgV(4,6,12) = 12:<br>$\\frac{3}{4} - \\frac{1}{6} + \\frac{1}{12} = \\frac{9}{12} - \\frac{2}{12} + \\frac{1}{12} = \\frac{8}{12} = \\frac{2}{3}$',
                explanation: 'Gemischte Rechnung mit drei Br√ºchen'
            },
            {
                difficulty: 'hard',
                question: 'Dividieren Sie und k√ºrzen Sie soweit wie m√∂glich:<br><br>$\\frac{6a^2b}{5c} \\div \\frac{9ab^2}{10c^2} = ?$',
                answer: '4ac/3b',
                unit: '',
                tolerance: 0,
                solution: 'Division durch Multiplikation mit dem Kehrwert:<br>$\\frac{6a^2b}{5c} \\div \\frac{9ab^2}{10c^2} = \\frac{6a^2b}{5c} \\times \\frac{10c^2}{9ab^2} = \\frac{60a^2bc^2}{45cab^2} = \\frac{4ac}{3b}$',
                explanation: 'Division von komplexen Br√ºchen mit Variablen'
            },
            {
                difficulty: 'hard',
                question: 'Vereinfachen Sie den komplexen Bruch:<br><br>$\\frac{\\frac{2a}{3b}}{\\frac{4a}{9b^2}} = ?$',
                answer: '3b/2',
                unit: '',
                tolerance: 0,
                solution: 'Komplexer Bruch als Division:<br>$\\frac{\\frac{2a}{3b}}{\\frac{4a}{9b^2}} = \\frac{2a}{3b} \\div \\frac{4a}{9b^2} = \\frac{2a}{3b} \\times \\frac{9b^2}{4a} = \\frac{18ab^2}{12ab} = \\frac{3b}{2}$',
                explanation: 'Vereinfachung eines komplexen Bruchs'
            }
        ];

        function toggleTheory() {
            const content = document.getElementById('theoryContent');
            const icon = document.querySelector('.toggle-icon');
            
            if (content.style.display === 'none' || !content.style.display) {
                content.style.display = 'block';
                icon.textContent = '‚ñ≤';
            } else {
                content.style.display = 'none';
                icon.textContent = '‚ñº';
            }
        }

        // Initialize exercise system when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Create exercise system instance
            window.exerciseSystem = new ExerciseSystem('grundlagen', 'brueche', bruchrechnungExercises);
            
            // Track progress if parent window exists
            if (window.parent && window.parent.emWizard) {
                window.parent.emWizard.progressTracker.updateLastTopic(window.location.href);
            }
        });

        // Track exercise completion when page unloads
        window.addEventListener('beforeunload', function() {
            if (window.exerciseSystem && window.parent && window.parent.emWizard) {
                const progress = window.exerciseSystem.getOverallProgress();
                if (progress.completed > 0) {
                    window.parent.emWizard.progressTracker.markExerciseCompleted('grundlagen', 'brueche');
                }
            }
        });
    </script>
</body>
</html>