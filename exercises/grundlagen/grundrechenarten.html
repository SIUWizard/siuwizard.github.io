<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grundrechenarten - SIU-EM-Wizard</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/exercise.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
</head>
<body>
    <!-- Navigation Header -->
    <header class="exercise-header">
        <nav class="exercise-nav">
            <div class="nav-left">
                <a href="../../index.html" class="btn btn-secondary">‚Üê Zur√ºck zur √úbersicht</a>
            </div>
            <div class="nav-center">
                <h1>Grundrechenarten</h1>
            </div>
        </nav>
    </header>

    <div class="exercise-layout">
        <!-- Main Content Area -->
        <main class="exercise-main">
            <!-- Theory Section (Collapsible) -->
            <section class="theory-section" id="theorySection">
                <div class="theory-header" onclick="toggleTheory()">
                    <h2>üìö Theorie: Grundrechenarten</h2>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="theory-content" id="theoryContent">
                    <div class="theory-grid">
                        <div class="theory-card">
                            <h3>Addition (+)</h3>
                            <p>Das Zusammenz√§hlen von Zahlen:</p>
                            <p>$a + b = c$</p>
                            <p><strong>Beispiel:</strong> $5 + 3 = 8$</p>
                        </div>
                        <div class="theory-card">
                            <h3>Subtraktion (‚àí)</h3>
                            <p>Das Abziehen von Zahlen:</p>
                            <p>$a - b = c$</p>
                            <p><strong>Beispiel:</strong> $8 - 3 = 5$</p>
                        </div>
                        <div class="theory-card">
                            <h3>Multiplikation (√ó)</h3>
                            <p>Das Vervielfachen von Zahlen:</p>
                            <p>$a \times b = c$ oder $a \cdot b = c$</p>
                            <p><strong>Beispiel:</strong> $4 \times 6 = 24$</p>
                        </div>
                        <div class="theory-card">
                            <h3>Division (√∑)</h3>
                            <p>Das Teilen von Zahlen:</p>
                            <p>$a \div b = c$ oder $\frac{a}{b} = c$</p>
                            <p><strong>Beispiel:</strong> $24 \div 6 = 4$</p>
                        </div>
                    </div>
                    <div class="theory-tips">
                        <h4>üí° Wichtige Regeln:</h4>
                        <ul>
                            <li><strong>Reihenfolge:</strong> Punktrechnung vor Strichrechnung</li>
                            <li><strong>Klammern:</strong> Werden zuerst berechnet</li>
                            <li><strong>Kommutativgesetz:</strong> $a + b = b + a$ und $a \times b = b \times a$</li>
                            <li><strong>Assoziativgesetz:</strong> $(a + b) + c = a + (b + c)$</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Exercise Content Area -->
            <div class="exercise-content">
                <!-- Exercise content will be dynamically inserted here -->
                <div class="exercise-question">
                    <h3>Aufgabe wird geladen...</h3>
                </div>
            </div>
        </main>

        <!-- Right Sidebar will be dynamically created -->
    </div>

    <!-- Exercise System Script -->
    <script src="../../js/exercise-system.js"></script>
    
    <script>
        // Define exercises for Grundrechenarten
        const grundrechnungsartenExercises = [
            // EINFACHE AUFGABEN
            {
                difficulty: 'easy',
                question: 'Berechnen Sie: $15 + 8 = ?$',
                answer: '23',
                unit: '',
                tolerance: 0,
                solution: 'Die Addition von 15 und 8 ergibt 23.',
                explanation: 'Einfache Addition von zwei zweistelligen Zahlen.'
            },
            {
                difficulty: 'easy',
                question: 'Berechnen Sie: $20 - 7 = ?$',
                answer: '13',
                unit: '',
                tolerance: 0,
                solution: 'Die Subtraktion von 7 von 20 ergibt 13.',
                explanation: 'Einfache Subtraktion ohne √úbertrag.'
            },
            {
                difficulty: 'easy',
                question: 'Berechnen Sie: $6 \\times 4 = ?$',
                answer: '24',
                unit: '',
                tolerance: 0,
                solution: 'Die Multiplikation von 6 und 4 ergibt 24.',
                explanation: 'Kleine Einmaleins-Aufgabe.'
            },
            {
                difficulty: 'easy',
                question: 'Berechnen Sie: $35 \\div 7 = ?$',
                answer: '5',
                unit: '',
                tolerance: 0,
                solution: 'Die Division von 35 durch 7 ergibt 5.',
                explanation: 'Einfache Division ohne Rest.'
            },
            {
                difficulty: 'easy',
                question: 'Berechnen Sie: $12 + 19 = ?$',
                answer: '31',
                unit: '',
                tolerance: 0,
                solution: 'Die Addition von 12 und 19 ergibt 31.',
                explanation: 'Addition mit Zehner√ºbertrag.'
            },
            {
                difficulty: 'easy',
                question: 'Berechnen Sie: $8 \\times 9 = ?$',
                answer: '72',
                unit: '',
                tolerance: 0,
                solution: 'Die Multiplikation von 8 und 9 ergibt 72.',
                explanation: 'Einmaleins-Aufgabe aus dem Zahlenbereich bis 10.'
            },
            
            // MITTLERE AUFGABEN
            {
                difficulty: 'medium',
                question: 'Berechnen Sie: $247 + 156 = ?$',
                answer: '403',
                unit: '',
                tolerance: 0,
                solution: 'Die Addition erfolgt stellenweise: 7+6=13 (3 schreiben, 1 merken), 4+5+1=10 (0 schreiben, 1 merken), 2+1+1=4. Ergebnis: 403.',
                explanation: 'Dreistellige Addition mit mehrfachem √úbertrag.'
            },
            {
                difficulty: 'medium',
                question: 'Berechnen Sie: $500 - 237 = ?$',
                answer: '263',
                unit: '',
                tolerance: 0,
                solution: 'Bei der Subtraktion m√ºssen wir borgen: 500 - 237 = 263.',
                explanation: 'Subtraktion mit Borgen √ºber mehrere Stellen.'
            },
            {
                difficulty: 'medium',
                question: 'Berechnen Sie: $23 \\times 16 = ?$',
                answer: '368',
                unit: '',
                tolerance: 0,
                solution: '23 √ó 16 = 23 √ó (10 + 6) = 230 + 138 = 368.',
                explanation: 'Zweistellige Multiplikation.'
            },
            {
                difficulty: 'medium',
                question: 'Berechnen Sie: $144 \\div 12 = ?$',
                answer: '12',
                unit: '',
                tolerance: 0,
                solution: '144 √∑ 12 = 12, da 12 √ó 12 = 144.',
                explanation: 'Division von dreistelliger durch zweistellige Zahl.'
            },
            {
                difficulty: 'medium',
                question: 'Berechnen Sie: $89 + 76 + 45 = ?$',
                answer: '210',
                unit: '',
                tolerance: 0,
                solution: 'Schrittweise Addition: 89 + 76 = 165, dann 165 + 45 = 210.',
                explanation: 'Addition von drei zweistelligen Zahlen.'
            },
            {
                difficulty: 'medium',
                question: 'Berechnen Sie: $15 \\times 24 = ?$',
                answer: '360',
                unit: '',
                tolerance: 0,
                solution: '15 √ó 24 = 15 √ó (20 + 4) = 300 + 60 = 360.',
                explanation: 'Zweistellige Multiplikation mit Zerlegen.'
            },
            
            // SCHWERE AUFGABEN
            {
                difficulty: 'hard',
                question: 'Berechnen Sie: $1247 + 3896 + 2758 = ?$',
                answer: '7901',
                unit: '',
                tolerance: 0,
                solution: 'Schrittweise Addition von links nach rechts oder stellenweise: 1247 + 3896 = 5143, dann 5143 + 2758 = 7901.',
                explanation: 'Addition von drei vierstelligen Zahlen mit mehrfachen √úbertr√§gen.'
            },
            {
                difficulty: 'hard',
                question: 'Berechnen Sie: $5000 - 2847 = ?$',
                answer: '2153',
                unit: '',
                tolerance: 0,
                solution: 'Bei der Subtraktion von 5000 - 2847 m√ºssen wir mehrfach borgen: 5000 - 2847 = 2153.',
                explanation: 'Subtraktion mit Borgen von einer runden Zahl.'
            },
            {
                difficulty: 'hard',
                question: 'Berechnen Sie: $47 \\times 83 = ?$',
                answer: '3901',
                unit: '',
                tolerance: 0,
                solution: '47 √ó 83 = 47 √ó (80 + 3) = 3760 + 141 = 3901.',
                explanation: 'Zweistellige Multiplikation mit gr√∂√üeren Zahlen.'
            },
            {
                difficulty: 'hard',
                question: 'Berechnen Sie: $2376 \\div 24 = ?$',
                answer: '99',
                unit: '',
                tolerance: 0,
                solution: '2376 √∑ 24: 24 geht 99 mal in 2376 (24 √ó 99 = 2376).',
                explanation: 'Division einer vierstelligen durch eine zweistellige Zahl.'
            },
            {
                difficulty: 'hard',
                question: 'Berechnen Sie: $156 \\times 73 = ?$',
                answer: '11388',
                unit: '',
                tolerance: 0,
                solution: '156 √ó 73 = 156 √ó (70 + 3) = 10920 + 468 = 11388.',
                explanation: 'Dreistellige mal zweistellige Multiplikation.'
            },
            {
                difficulty: 'hard',
                question: 'Berechnen Sie: $987 - 129 + 246 - 78 = ?$',
                answer: '1026',
                unit: '',
                tolerance: 0,
                solution: 'Schrittweise: 987 - 129 = 858, dann 858 + 246 = 1104, schlie√ülich 1104 - 78 = 1026.',
                explanation: 'Gemischte Rechnung mit Addition und Subtraktion.'
            }
        ];

        // Initialize exercise system when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Create exercise system instance
            window.exerciseSystem = new ExerciseSystem('grundlagen', 'grundrechenarten', grundrechnungsartenExercises);
            
            // Track progress if parent window exists
            if (window.parent && window.parent.emWizard) {
                window.parent.emWizard.progressTracker.updateLastTopic(window.location.href);
            }
        });

        // Track exercise completion when page unloads
        window.addEventListener('beforeunload', function() {
            if (window.exerciseSystem && window.parent && window.parent.emWizard) {
                const progress = window.exerciseSystem.getOverallProgress();
                if (progress.completed > 0) {
                    window.parent.emWizard.progressTracker.markExerciseCompleted('grundlagen', 'grundrechenarten');
                }
            }
        });
    </script>
</body>
</html>