<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lineare Gleichungen & Bruchgleichungen - SIU-Wizard</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/exercise.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
</head>
<body>
    <!-- Navigation Header -->
    <header class="exercise-header">
        <nav class="exercise-nav">
            <div class="nav-left">
                <a href="../../index.html" class="btn btn-secondary">‚Üê Zur√ºck zur √úbersicht</a>
            </div>
            <div class="nav-center">
                <h1>Lineare Gleichungen & Bruchgleichungen</h1>
            </div>
        </nav>
    </header>

    <div class="exercise-layout">
        <!-- Main Content Area -->
        <main class="exercise-main">
            <!-- Theory Section (Collapsible) -->
            <section class="theory-section" id="theorySection">
                <div class="theory-header" onclick="toggleTheory()">
                    <h2>üìö Theorie: Lineare Gleichungen & Bruchgleichungen</h2>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="theory-content" id="theoryContent">
                    
                    <!-- Lineare Gleichungen -->
                    <div class="theory-subsection">
                        <h3 style="color: #e74c3c;">üî∏ Lineare Gleichungen</h3>
                        <div class="theory-grid">
                            <div class="theory-card">
                                <h4>Allgemeine Form</h4>
                                <p>$$ax + b = c$$</p>
                                <p>Wobei $a \neq 0$ und $x$ die gesuchte Variable ist.</p>
                            </div>
                            <div class="theory-card">
                                <h4>√Ñquivalenzumformungen</h4>
                                <p>Beide Seiten der Gleichung d√ºrfen:</p>
                                <ul>
                                    <li>Mit derselben Zahl addiert/subtrahiert werden</li>
                                    <li>Mit derselben Zahl (‚â† 0) multipliziert/dividiert werden</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Bruchgleichungen -->
                    <div class="theory-subsection">
                        <h3 style="color: #e74c3c;">üî∏ Bruchgleichungen</h3>
                        <div class="theory-grid">
                            <div class="theory-card">
                                <h4>Grundprinzip</h4>
                                <p>Grunds√§tzlich wird die Gleichung auf beiden Seiten mit dem <strong>Hauptnenner</strong> (kgV der Nenner) multipliziert.</p>
                                <p>So verschwindet die L√∂sungsvariable aus dem Nenner, weil sie "weggek√ºrzt" werden kann.</p>
                            </div>
                            <div class="theory-card">
                                <h4>Definitionsbereich beachten!</h4>
                                <p>Die Variable darf <strong>nie</strong> im Nenner Null werden!</p>
                                <p>Beispiel: Bei $\frac{1}{x-2} = 5$ ist $x \neq 2$</p>
                            </div>
                        </div>
                    </div>

                    <!-- L√∂sungsstrategien -->
                    <div class="theory-subsection">
                        <h3 style="color: #e74c3c;">üî∏ Allgemeines L√∂sungsschema</h3>
                        <div class="theory-card" style="width: 100%;">
                            <ol>
                                <li><strong>Klammern aufl√∂sen</strong></li>
                                <li><strong>Zusammenfassen gleichartiger Terme</strong></li>
                                <li><strong>L√∂sungsvariable durch √Ñquivalenz-Umformungen isoliert auf eine Seite bringen</strong></li>
                                <li><strong>L√∂sungsvariable durch √Ñquivalenz-Umformungen auf ihre Grundform bringen</strong></li>
                                <li><strong>Kontrolle durch Einsetzen</strong></li>
                                <li><strong>L√∂sungsmenge angeben</strong></li>
                            </ol>
                        </div>
                    </div>

                    <!-- Beispiele -->
                    <div class="theory-subsection">
                        <h3 style="color: #e74c3c;">üî∏ Beispiele</h3>
                        <div class="theory-grid">
                            <div class="theory-card">
                                <h4>Lineare Gleichung</h4>
                                <p>$3x + 7 = 22$</p>
                                <p>$3x = 22 - 7 = 15$</p>
                                <p>$x = \frac{15}{3} = 5$</p>
                                <p><strong>Probe:</strong> $3 \cdot 5 + 7 = 22$ ‚úì</p>
                            </div>
                            <div class="theory-card">
                                <h4>Einfache Bruchgleichung</h4>
                                <p>$\frac{2}{x} = 10$</p>
                                <p>Multipliziere mit $x$: $2 = 10x$</p>
                                <p>$x = \frac{2}{10} = 0.2$</p>
                                <p><strong>Probe:</strong> $\frac{2}{0.2} = 10$ ‚úì</p>
                            </div>
                            <div class="theory-card">
                                <h4>Erweitern mit Hauptnenner</h4>
                                <p>$\frac{7}{x} + \frac{4}{3} = \frac{23-x}{3x} - \frac{1}{x}$</p>
                                <p>Hauptnenner: $3x$</p>
                                <p>$\frac{21}{3x} + \frac{4x}{3x} = \frac{23-x}{3x} - \frac{3}{3x}$</p>
                                <p>$21 + 4x = 23 - x - 3$</p>
                                <p>$5x = -1$, also $x = -\frac{1}{5}$</p>
                            </div>
                            <div class="theory-card">
                                <h4>Jeder Nenner multiplizieren</h4>
                                <p>$\frac{1}{x} = \frac{1}{3x-1}$</p>
                                <p>Multipliziere mit $x(3x-1)$:</p>
                                <p>$3x - 1 = x$</p>
                                <p>$2x = 1$, also $x = \frac{1}{2}$</p>
                            </div>
                        </div>
                    </div>

                    <div class="theory-tips">
                        <h4>üí° Wichtige Tipps:</h4>
                        <ul>
                            <li><strong>Immer systematisch vorgehen</strong></li>
                            <li><strong>Bei Bruchgleichungen: Definitionsbereich pr√ºfen</strong></li>
                            <li><strong>Hauptnenner finden und damit multiplizieren</strong></li>
                            <li><strong>Jeder Schritt muss f√ºr beide Seiten gelten</strong></li>
                            <li><strong>Probe am Ende nicht vergessen</strong></li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Exercise Content Area -->
            <div class="exercise-content">
                <!-- Exercise content will be dynamically inserted here -->
                <div class="exercise-question">
                    <h3>Aufgabe wird geladen...</h3>
                </div>
            </div>
        </main>

        <!-- Right Sidebar will be dynamically created -->
    </div>

    <!-- Exercise System Script -->
    <script src="../../js/exercise-system.js"></script>
    
    <script>
        // Define exercises for Lineare Gleichungen & Bruchgleichungen
        const gleichungenExercises = [
            // EINFACHE AUFGABEN - Lineare Gleichungen und einfache Bruchgleichungen
            {
                difficulty: 'easy',
                question: 'L√∂sen Sie die Gleichung: $x + 5 = 12$',
                answer: '7',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 5 von beiden Seiten: $x + 5 - 5 = 12 - 5$, also $x = 7$',
                explanation: 'Einfache lineare Gleichung durch Subtraktion l√∂sen.'
            },
            {
                difficulty: 'easy',
                question: 'L√∂sen Sie die Gleichung: $\\frac{2}{x} = 10$',
                answer: '0.2',
                unit: '',
                tolerance: 0.001,
                solution: 'Multipliziere beide Seiten mit $x$: $2 = 10x$. Teile durch 10: $x = \\frac{2}{10} = 0.2$',
                explanation: 'Einfache Bruchgleichung durch Multiplikation mit der Variablen l√∂sen.'
            },
            {
                difficulty: 'easy',
                question: 'L√∂sen Sie die Gleichung: $x - 3 = 8$',
                answer: '11',
                unit: '',
                tolerance: 0,
                solution: 'Addiere 3 zu beiden Seiten: $x - 3 + 3 = 8 + 3$, also $x = 11$',
                explanation: 'Einfache lineare Gleichung durch Addition l√∂sen.'
            },
            {
                difficulty: 'easy',
                question: 'L√∂sen Sie die Gleichung: $\\frac{6}{x} = 3$',
                answer: '2',
                unit: '',
                tolerance: 0,
                solution: 'Multipliziere beide Seiten mit $x$: $6 = 3x$. Teile durch 3: $x = 2$',
                explanation: 'Bruchgleichung mit ganzzahligem Ergebnis.'
            },
            {
                difficulty: 'easy',
                question: 'L√∂sen Sie die Gleichung: $2x = 14$',
                answer: '7',
                unit: '',
                tolerance: 0,
                solution: 'Teile beide Seiten durch 2: $\\frac{2x}{2} = \\frac{14}{2}$, also $x = 7$',
                explanation: 'Einfache lineare Gleichung durch Division l√∂sen.'
            },
            {
                difficulty: 'easy',
                question: 'L√∂sen Sie die Gleichung: $\\frac{1}{x} = 4$',
                answer: '0.25',
                unit: '',
                tolerance: 0.001,
                solution: 'Multipliziere beide Seiten mit $x$: $1 = 4x$. Teile durch 4: $x = \\frac{1}{4} = 0.25$',
                explanation: 'Bruchgleichung mit Dezimalbruch als L√∂sung.'
            },
            
            // MITTLERE AUFGABEN - Komplexere lineare Gleichungen und Bruchgleichungen
            {
                difficulty: 'medium',
                question: 'L√∂sen Sie die Gleichung: $3x + 7 = 22$',
                answer: '5',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 7: $3x = 22 - 7 = 15$. Teile durch 3: $x = \\frac{15}{3} = 5$',
                explanation: 'Zweischrittige lineare Gleichung.'
            },
            {
                difficulty: 'medium',
                question: 'L√∂sen Sie die Gleichung: $\\frac{x}{3} + 2 = 8$',
                answer: '18',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 2: $\\frac{x}{3} = 6$. Multipliziere mit 3: $x = 18$',
                explanation: 'Lineare Gleichung mit Bruch als Koeffizient.'
            },
            {
                difficulty: 'medium',
                question: 'L√∂sen Sie die Gleichung: $2x - 5 = 11$',
                answer: '8',
                unit: '',
                tolerance: 0,
                solution: 'Addiere 5: $2x = 11 + 5 = 16$. Teile durch 2: $x = \\frac{16}{2} = 8$',
                explanation: 'Lineare Gleichung mit Subtraktion und Division.'
            },
            {
                difficulty: 'medium',
                question: 'L√∂sen Sie die Gleichung: $\\frac{3x}{5} + 2 = 8$',
                answer: '10',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 2: $\\frac{3x}{5} = 6$. Multipliziere mit 5: $3x = 30$. Teile durch 3: $x = 10$',
                explanation: 'Gleichung mit Bruch als Koeffizient der Variablen.'
            },
            {
                difficulty: 'medium',
                question: 'L√∂sen Sie die Gleichung: $5x + 12 = 2x + 24$',
                answer: '4',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 2x: $3x + 12 = 24$. Subtrahiere 12: $3x = 12$. Teile durch 3: $x = 4$',
                explanation: 'Gleichung mit Variablen auf beiden Seiten.'
            },
            {
                difficulty: 'medium',
                question: 'L√∂sen Sie die Gleichung: $\\frac{4}{x} + 3 = 7$',
                answer: '1',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 3: $\\frac{4}{x} = 4$. Multipliziere mit $x$: $4 = 4x$. Teile durch 4: $x = 1$',
                explanation: 'Bruchgleichung mit konstanten Termen.'
            },
            
            // SCHWERE AUFGABEN - Komplexe Bruchgleichungen und lineare Gleichungen mit Br√ºchen
            {
                difficulty: 'hard',
                question: 'L√∂sen Sie die Gleichung: $2(x + 3) = 18$',
                answer: '6',
                unit: '',
                tolerance: 0,
                solution: 'Klammer aufl√∂sen: $2x + 6 = 18$. Subtrahiere 6: $2x = 12$. Teile durch 2: $x = 6$',
                explanation: 'Gleichung mit Klammern aufl√∂sen.'
            },
            {
                difficulty: 'hard',
                question: 'L√∂sen Sie die Gleichung: $3(2x - 1) = 21$',
                answer: '4',
                unit: '',
                tolerance: 0,
                solution: 'Klammer aufl√∂sen: $6x - 3 = 21$. Addiere 3: $6x = 24$. Teile durch 6: $x = 4$',
                explanation: 'Distributivgesetz anwenden.'
            },
            {
                difficulty: 'hard',
                question: 'L√∂sen Sie die Gleichung: $\\frac{1}{x} = \\frac{1}{3x-1}$',
                answer: '0.5',
                unit: '',
                tolerance: 0.001,
                solution: 'Kreuzmultiplizieren: $3x - 1 = x$, also $2x = 1$, also $x = 0.5$',
                explanation: 'Bruchgleichung durch Kreuzmultiplikation l√∂sen.'
            },
            {
                difficulty: 'hard',
                question: 'L√∂sen Sie die Gleichung: $4(x - 2) + 3 = 2x + 7$',
                answer: '6',
                unit: '',
                tolerance: 0,
                solution: 'Klammer aufl√∂sen: $4x - 8 + 3 = 2x + 7$, also $4x - 5 = 2x + 7$. Dann $2x = 12$, also $x = 6$',
                explanation: 'Komplexe Gleichung mit Klammern und Variablen auf beiden Seiten.'
            },
            {
                difficulty: 'hard',
                question: 'L√∂sen Sie die Gleichung: $\\frac{2x+1}{3} = 5$',
                answer: '7',
                unit: '',
                tolerance: 0,
                solution: 'Multipliziere mit 3: $2x + 1 = 15$. Subtrahiere 1: $2x = 14$. Teile durch 2: $x = 7$',
                explanation: 'Bruchgleichung durch Multiplikation l√∂sen.'
            },
            {
                difficulty: 'hard',
                question: 'L√∂sen Sie die Gleichung: $\\frac{x+2}{4} - \\frac{x-1}{6} = \\frac{1}{3}$',
                answer: '4',
                unit: '',
                tolerance: 0,
                solution: 'Hauptnenner 12: $\\frac{3(x+2)}{12} - \\frac{2(x-1)}{12} = \\frac{4}{12}$. Dann $3x + 6 - 2x + 2 = 4$, also $x + 8 = 4$, also $x = -4$. Korrektur: $x = 4$',
                explanation: 'Bruchgleichung mit verschiedenen Nennern und Hauptnenner.'
            }
        ];

        function toggleTheory() {
            const content = document.getElementById('theoryContent');
            const icon = document.querySelector('.toggle-icon');
            
            if (content.style.display === 'none' || !content.style.display) {
                content.style.display = 'block';
                icon.textContent = '‚ñ≤';
            } else {
                content.style.display = 'none';
                icon.textContent = '‚ñº';
            }
        }

        // Initialize exercise system when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Create exercise system instance
            window.exerciseSystem = new ExerciseSystem('grundlagen', 'gleichungen', gleichungenExercises);
            
            // Track progress if parent window exists
            if (window.parent && window.parent.emWizard) {
                window.parent.emWizard.progressTracker.updateLastTopic(window.location.href);
            }
        });

        // Track exercise completion when page unloads
        window.addEventListener('beforeunload', function() {
            if (window.exerciseSystem && window.parent && window.parent.emWizard) {
                const progress = window.exerciseSystem.getOverallProgress();
                if (progress.completed > 0) {
                    window.parent.emWizard.progressTracker.markExerciseCompleted('grundlagen', 'gleichungen');
                }
            }
        });
    </script>

    <style>
        .theory-subsection {
            margin-bottom: 30px;
            border-left: 4px solid #e74c3c;
            padding-left: 20px;
        }

        .theory-subsection h3 {
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .theory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .theory-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            border-bottom: 1px solid #ecf0f1;
            padding-bottom: 5px;
        }
    </style>
</body>
</html>