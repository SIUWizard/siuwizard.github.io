<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lineare Gleichungen - SIU-EM-Wizard</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/exercise.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
</head>
<body>
    <!-- Navigation Header -->
    <header class="exercise-header">
        <nav class="exercise-nav">
            <div class="nav-left">
                <a href="../../index.html" class="btn btn-secondary">‚Üê Zur√ºck zur √úbersicht</a>
            </div>
            <div class="nav-center">
                <h1>Lineare Gleichungen</h1>
            </div>
        </nav>
    </header>

    <div class="exercise-layout">
        <!-- Main Content Area -->
        <main class="exercise-main">
            <!-- Theory Section (Collapsible) -->
            <section class="theory-section" id="theorySection">
                <div class="theory-header" onclick="toggleTheory()">
                    <h2>üìö Theorie: Lineare Gleichungen</h2>
                    <span class="toggle-icon">‚ñº</span>
                </div>
                <div class="theory-content" id="theoryContent">
                    <div class="theory-grid">
                        <div class="theory-card">
                            <h3>Allgemeine Form</h3>
                            <p>$$ax + b = c$$</p>
                            <p>Wobei $a \neq 0$ und $x$ die gesuchte Variable ist.</p>
                        </div>
                        <div class="theory-card">
                            <h3>√Ñquivalenzumformungen</h3>
                            <p>Beide Seiten der Gleichung d√ºrfen:</p>
                            <ul>
                                <li>Mit derselben Zahl addiert/subtrahiert werden</li>
                                <li>Mit derselben Zahl (‚â† 0) multipliziert/dividiert werden</li>
                            </ul>
                        </div>
                        <div class="theory-card">
                            <h3>L√∂sungsschema</h3>
                            <ol>
                                <li>Klammern aufl√∂sen</li>
                                <li>x-Terme auf eine Seite sammeln</li>
                                <li>Konstante auf die andere Seite</li>
                                <li>Durch Koeffizienten von x teilen</li>
                                <li>Probe durchf√ºhren</li>
                            </ol>
                        </div>
                        <div class="theory-card">
                            <h3>Beispiel</h3>
                            <p>$3x + 7 = 22$</p>
                            <p>$3x = 22 - 7 = 15$</p>
                            <p>$x = \frac{15}{3} = 5$</p>
                            <p><strong>Probe:</strong> $3 \cdot 5 + 7 = 22$ ‚úì</p>
                        </div>
                    </div>
                    <div class="theory-tips">
                        <h4>üí° Wichtige Tipps:</h4>
                        <ul>
                            <li><strong>Immer systematisch vorgehen</strong></li>
                            <li><strong>Jeder Schritt muss f√ºr beide Seiten gelten</strong></li>
                            <li><strong>Probe am Ende nicht vergessen</strong></li>
                            <li><strong>Bei Br√ºchen: Hauptnenner finden</strong></li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Exercise Content Area -->
            <div class="exercise-content">
                <!-- Exercise content will be dynamically inserted here -->
                <div class="exercise-question">
                    <h3>Aufgabe wird geladen...</h3>
                </div>
            </div>
        </main>

        <!-- Right Sidebar will be dynamically created -->
    </div>

    <!-- Exercise System Script -->
    <script src="../../js/exercise-system.js"></script>
    
    <script>
        // Define exercises for Lineare Gleichungen
        const gleichungenExercises = [
            // EINFACHE AUFGABEN
            {
                difficulty: 'easy',
                question: 'L√∂sen Sie die Gleichung: $x + 5 = 12$',
                answer: '7',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 5 von beiden Seiten: $x + 5 - 5 = 12 - 5$, also $x = 7$',
                explanation: 'Einfache lineare Gleichung durch Subtraktion l√∂sen.'
            },
            {
                difficulty: 'easy',
                question: 'L√∂sen Sie die Gleichung: $x - 3 = 8$',
                answer: '11',
                unit: '',
                tolerance: 0,
                solution: 'Addiere 3 zu beiden Seiten: $x - 3 + 3 = 8 + 3$, also $x = 11$',
                explanation: 'Einfache lineare Gleichung durch Addition l√∂sen.'
            },
            {
                difficulty: 'easy',
                question: 'L√∂sen Sie die Gleichung: $2x = 14$',
                answer: '7',
                unit: '',
                tolerance: 0,
                solution: 'Teile beide Seiten durch 2: $\\frac{2x}{2} = \\frac{14}{2}$, also $x = 7$',
                explanation: 'Einfache lineare Gleichung durch Division l√∂sen.'
            },
            {
                difficulty: 'easy',
                question: 'L√∂sen Sie die Gleichung: $3x = 21$',
                answer: '7',
                unit: '',
                tolerance: 0,
                solution: 'Teile beide Seiten durch 3: $\\frac{3x}{3} = \\frac{21}{3}$, also $x = 7$',
                explanation: 'Division durch den Koeffizienten von x.'
            },
            {
                difficulty: 'easy',
                question: 'L√∂sen Sie die Gleichung: $x + 8 = 15$',
                answer: '7',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 8 von beiden Seiten: $x = 15 - 8 = 7$',
                explanation: 'Konstante durch Subtraktion eliminieren.'
            },
            {
                difficulty: 'easy',
                question: 'L√∂sen Sie die Gleichung: $5x = 30$',
                answer: '6',
                unit: '',
                tolerance: 0,
                solution: 'Teile beide Seiten durch 5: $x = \\frac{30}{5} = 6$',
                explanation: 'Division zur Isolation von x.'
            },
            
            // MITTLERE AUFGABEN
            {
                difficulty: 'medium',
                question: 'L√∂sen Sie die Gleichung: $3x + 7 = 22$',
                answer: '5',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 7: $3x = 22 - 7 = 15$. Teile durch 3: $x = \\frac{15}{3} = 5$',
                explanation: 'Zweischrittige lineare Gleichung.'
            },
            {
                difficulty: 'medium',
                question: 'L√∂sen Sie die Gleichung: $2x - 5 = 11$',
                answer: '8',
                unit: '',
                tolerance: 0,
                solution: 'Addiere 5: $2x = 11 + 5 = 16$. Teile durch 2: $x = \\frac{16}{2} = 8$',
                explanation: 'Lineare Gleichung mit Subtraktion und Division.'
            },
            {
                difficulty: 'medium',
                question: 'L√∂sen Sie die Gleichung: $4x + 9 = 37$',
                answer: '7',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 9: $4x = 37 - 9 = 28$. Teile durch 4: $x = \\frac{28}{4} = 7$',
                explanation: 'Systematisches L√∂sen einer linearen Gleichung.'
            },
            {
                difficulty: 'medium',
                question: 'L√∂sen Sie die Gleichung: $6x - 8 = 28$',
                answer: '6',
                unit: '',
                tolerance: 0,
                solution: 'Addiere 8: $6x = 28 + 8 = 36$. Teile durch 6: $x = \\frac{36}{6} = 6$',
                explanation: 'Gleichung mit negativem Summanden.'
            },
            {
                difficulty: 'medium',
                question: 'L√∂sen Sie die Gleichung: $5x + 12 = 2x + 24$',
                answer: '4',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 2x: $3x + 12 = 24$. Subtrahiere 12: $3x = 12$. Teile durch 3: $x = 4$',
                explanation: 'Gleichung mit Variablen auf beiden Seiten.'
            },
            {
                difficulty: 'medium',
                question: 'L√∂sen Sie die Gleichung: $7x - 3 = 4x + 12$',
                answer: '5',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 4x: $3x - 3 = 12$. Addiere 3: $3x = 15$. Teile durch 3: $x = 5$',
                explanation: 'Variable auf beiden Seiten sammeln.'
            },
            
            // SCHWERE AUFGABEN
            {
                difficulty: 'hard',
                question: 'L√∂sen Sie die Gleichung: $2(x + 3) = 18$',
                answer: '6',
                unit: '',
                tolerance: 0,
                solution: 'Klammer aufl√∂sen: $2x + 6 = 18$. Subtrahiere 6: $2x = 12$. Teile durch 2: $x = 6$',
                explanation: 'Gleichung mit Klammern aufl√∂sen.'
            },
            {
                difficulty: 'hard',
                question: 'L√∂sen Sie die Gleichung: $3(2x - 1) = 21$',
                answer: '4',
                unit: '',
                tolerance: 0,
                solution: 'Klammer aufl√∂sen: $6x - 3 = 21$. Addiere 3: $6x = 24$. Teile durch 6: $x = 4$',
                explanation: 'Distributivgesetz anwenden.'
            },
            {
                difficulty: 'hard',
                question: 'L√∂sen Sie die Gleichung: $4(x - 2) + 3 = 2x + 7$',
                answer: '6',
                unit: '',
                tolerance: 0,
                solution: 'Klammer aufl√∂sen: $4x - 8 + 3 = 2x + 7$, also $4x - 5 = 2x + 7$. Dann $2x = 12$, also $x = 6$',
                explanation: 'Komplexe Gleichung mit Klammern und Variablen auf beiden Seiten.'
            },
            {
                difficulty: 'hard',
                question: 'L√∂sen Sie die Gleichung: $\\frac{x}{2} + 3 = 8$',
                answer: '10',
                unit: '',
                tolerance: 0,
                solution: 'Subtrahiere 3: $\\frac{x}{2} = 5$. Multipliziere mit 2: $x = 10$',
                explanation: 'Gleichung mit Br√ºchen.'
            },
            {
                difficulty: 'hard',
                question: 'L√∂sen Sie die Gleichung: $5(x + 1) - 2(x - 3) = 23$',
                answer: '4',
                unit: '',
                tolerance: 0,
                solution: 'Klammern aufl√∂sen: $5x + 5 - 2x + 6 = 23$, also $3x + 11 = 23$. Dann $3x = 12$, also $x = 4$',
                explanation: 'Gleichung mit mehreren Klammern.'
            },
            {
                difficulty: 'hard',
                question: 'L√∂sen Sie die Gleichung: $\\frac{2x + 1}{3} = 5$',
                answer: '7',
                unit: '',
                tolerance: 0,
                solution: 'Multipliziere mit 3: $2x + 1 = 15$. Subtrahiere 1: $2x = 14$. Teile durch 2: $x = 7$',
                explanation: 'Bruchgleichung durch Multiplikation l√∂sen.'
            }
        ];

        function toggleTheory() {
            const content = document.getElementById('theoryContent');
            const icon = document.querySelector('.toggle-icon');
            
            if (content.style.display === 'none' || !content.style.display) {
                content.style.display = 'block';
                icon.textContent = '‚ñ≤';
            } else {
                content.style.display = 'none';
                icon.textContent = '‚ñº';
            }
        }

        // Initialize exercise system when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Create exercise system instance
            window.exerciseSystem = new ExerciseSystem('grundlagen', 'gleichungen', gleichungenExercises);
            
            // Track progress if parent window exists
            if (window.parent && window.parent.emWizard) {
                window.parent.emWizard.progressTracker.updateLastTopic(window.location.href);
            }
        });

        // Track exercise completion when page unloads
        window.addEventListener('beforeunload', function() {
            if (window.exerciseSystem && window.parent && window.parent.emWizard) {
                const progress = window.exerciseSystem.getOverallProgress();
                if (progress.completed > 0) {
                    window.parent.emWizard.progressTracker.markExerciseCompleted('grundlagen', 'gleichungen');
                }
            }
        });
    </script>
</body>
</html>